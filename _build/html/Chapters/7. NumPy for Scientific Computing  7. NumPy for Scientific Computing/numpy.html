
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Lessons 18-19: NumPy Basics &#8212; Environmental Data Science</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/sphinx-book-theme.css?v=384b581d" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="../../_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script src="../../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?v=efea14e4"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js?v=36754332"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'Chapters/7. NumPy for Scientific Computing  7. NumPy for Scientific Computing/numpy';</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Exercise 7 NumPy: Air quality data analysis" href="exercise7.html" />
    <link rel="prev" title="Exercise 6 - AQI Data Preparation" href="../6.%20Data%20Science%20Workflow/Exercise6.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="../../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/logo.png" class="logo__image only-light" alt="Environmental Data Science - Home"/>
    <script>document.write(`<img src="../../_static/logo.png" class="logo__image only-dark" alt="Environmental Data Science - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../intro.html">
                    EGN 4930 / EGN 5932C Special Topic: Environmental Data Science
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">0. Good Coding Practices</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../0.0.%20Good%20Coding%20Practices/GCP1_VariableName.html">GCP1 - Selecting “good” variable names</a></li>

<li class="toctree-l1"><a class="reference internal" href="../0.0.%20Good%20Coding%20Practices/GCP2_DescribingCode.html">Describing Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../0.0.%20Good%20Coding%20Practices/GCP3_ReadableCode.html">Readable Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../0.0.%20Good%20Coding%20Practices/GCP4_WritingScripts.html">Writing Scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../0.0.%20Good%20Coding%20Practices/GCP5_Assertions.html">Assertions</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">1. Introduction to Environmental Data Science with Python</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../1.%20Introduction%20to%20Environmental%20Data%20Science%20with%20Python/Lesson1.html">Lesson 1 - Introduction to Environmental Data Science with Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../1.%20Introduction%20to%20Environmental%20Data%20Science%20with%20Python/Lesson2.html">Lesson 2 Getting Started</a></li>


<li class="toctree-l1"><a class="reference internal" href="../1.%20Introduction%20to%20Environmental%20Data%20Science%20with%20Python/Excercise1.html">Exercise 1 - Installing Python</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">2. Python Basics</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../2.%20Python%20Basics/Lesson3_PythonBasics1.html">Lesson 3 - Python Basics 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../2.%20Python%20Basics/Lesson4_list_solution.html">Lesson 4 - Python Basics 2 - Lists</a></li>
<li class="toctree-l1"><a class="reference internal" href="../2.%20Python%20Basics/Lesson5_formatting.html">Lesson 5 - Python Basics 3 - Formatting</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">3. Python Programming</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../3.%20Python%20Programming/Lesson6_Loops.html">Lesson 6 - Loops</a></li>
<li class="toctree-l1"><a class="reference internal" href="../3.%20Python%20Programming/Lesson7_conditional_statements.html">Lesson 7 - Conditional Statements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../3.%20Python%20Programming/Lesson8_functions.html">Lesson 8 - Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../3.%20Python%20Programming/Lesson9_modules.html">Lesson 9 - Script Files and Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../3.%20Python%20Programming/Exercise3.html">Exercise 3 - Python Programming</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text"> 4. Pandas for Tabular Data</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../%204.%20Pandas%20for%20Tabular%20Data/Lesson10_pandas.html">Lessons 10 - 14 - Pandas Primer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%204.%20Pandas%20for%20Tabular%20Data/Exercise4.html">Exercise 4 - Pandas</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">5. Artificial intelligence (AI) Coding Assistance</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../5.%20Artificial%20intelligence%20%28AI%29%20Coding%20Assistance/OpenAI_API_Key_for_Jupyter_AI_Extension.html">OpenAI API key for Jupyter AI extension (Optional)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../5.%20Artificial%20intelligence%20%28AI%29%20Coding%20Assistance/AIcoding.html">Lesson 15 AI coding assistance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../5.%20Artificial%20intelligence%20%28AI%29%20Coding%20Assistance/Exercise_5_API_Key_Module.html">Exercise 5 - API-Key Module (Optional)</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">6. Data Science Workflow</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../6.%20Data%20Science%20Workflow/Workflow.html">Lessons 16 - Data Science Workflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="../6.%20Data%20Science%20Workflow/Exercise6.html">Exercise 6 - AQI Data Preparation</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">7. NumPy for Scientific Computing</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Lessons 18-19 - NumPy Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="exercise7.html">Exercise 7 - NumPy - Air quality data analysis</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">8. Matplotlib for Visualization</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../8.%20Matplotlib%20for%20Visualization%20%208.%20Matplotlib%20for%20Visualization/matplotlib.html">Lesson 20 - 21 - Matplotlib Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../8.%20Matplotlib%20for%20Visualization%20%208.%20Matplotlib%20for%20Visualization/exercise8.html">Exercise 8 Matplotlib - Air quality data visualization</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text"> 9. Xarray and CartoPy for Labeled and Gridded N-dimensional Arrays</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../9.%20Xarray%20and%20CartoPy%20for%20Labeled%20and%20Gridded%20N-dimensional%20Arrays/climate.html">Lesson 24 - Climate Data - CMIP6 and Remote Sensing Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../9.%20Xarray%20and%20CartoPy%20for%20Labeled%20and%20Gridded%20N-dimensional%20Arrays/xarray.html">Lesson 25-27 - Xarray basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../9.%20Xarray%20and%20CartoPy%20for%20Labeled%20and%20Gridded%20N-dimensional%20Arrays/cartopy.html">Lesson 28 - CartoPy basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../9.%20Xarray%20and%20CartoPy%20for%20Labeled%20and%20Gridded%20N-dimensional%20Arrays/Exercise9.html">Exercise 9 - Sea surface height and red tides (Optional, Advanced)</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">10. Introduction to Google Earth Engine</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../10.%20Intro%20to%20Google%20Earth%20Engine/10.0-%20Intro%20to%20GEE.html">Lesson 30 - Intro to Google Earth Engine</a></li>
<li class="toctree-l1"><a class="reference internal" href="../10.%20Intro%20to%20Google%20Earth%20Engine/10.1-%20JavaScript%20API%20vs.%20Python%20API.html">Lesson 31 - JavaScript API vs. Python API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../10.%20Intro%20to%20Google%20Earth%20Engine/10.2-%20Using%20Google%20Earth%20Engine%20in%20a%20Jupyter%20Notebook.html">Lesson 32 - Using Google Earth Engine in a Jupyter Notebook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../10.%20Intro%20to%20Google%20Earth%20Engine/geemap1.html">Exercise 10 -  GeeMap, GEE, and Sentinel-2 Data</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://mybinder.org/v2/gh/executablebooks/jupyter-book/master?urlpath=tree/docs/Chapters/7. NumPy for Scientific Computing  7. NumPy for Scientific Computing/numpy.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch onBinder"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img src="../../_static/images/logo_binder.svg">
  </span>
<span class="btn__text-container">Binder</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2FChapters/7. NumPy for Scientific Computing  7. NumPy for Scientific Computing/numpy.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/Chapters/7. NumPy for Scientific Computing  7. NumPy for Scientific Computing/numpy.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Lessons 18-19: NumPy Basics</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#overview">Overview</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#installing-and-importing-numpy">1. Installing and importing NumPy</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#installation">1.1 Installation</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#imports">1.2 Imports</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#basic-concepts-and-terminologies">2. Basic concepts and terminologies</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#numpy-array">2.1 NumPy array</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#why-array-computing">2.2 Why array computing?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#numpy-matlab-r-and-julia">2.3 NumPy, MATLAB, R, and Julia</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#numpy-can-be-more-verbose">2.31 NumPy can be more verbose</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#indexing-and-memory-order">2.3.2 Indexing and memory order</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#variable-assignment">2.3.3 Variable assignment</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#which-tool-to-use">2.3.4 Which tool to use?</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#generating-a-numpy-area">3. Generating a NumPy area</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#using-np-array-function">3.1 Using <code class="docutils literal notranslate"><span class="pre">np.array()</span></code> function</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#using-np-arange-to-create-an-array-with-a-range-of-values-optional">3.2 Using <code class="docutils literal notranslate"><span class="pre">np.arange()</span></code> to create an array with a range of values (<em>optional</em>)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#using-np-linspace-to-create-an-array-with-evenly-spaced-values-optional">3.3 Using <code class="docutils literal notranslate"><span class="pre">np.linspace()</span></code> to create an array with evenly spaced values (<em>optional</em>)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#using-np-ones-or-np-zeros-to-create-ones-or-zeros-array-optional">3.4 Using <code class="docutils literal notranslate"><span class="pre">np.ones()</span></code> or <code class="docutils literal notranslate"><span class="pre">np.zeros()</span></code> to create ones or zeros array (<em>optional</em>)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#using-np-full-with-any-specified-value-and-type">3.5 Using <code class="docutils literal notranslate"><span class="pre">np.full()</span></code> with any specified value and type</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#read-csv-file-with-mixed-data-types-as-numpy-array">4. Read csv file with mixed data types as NumPy array</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#using-genformtxt-optional">4.1 Using <code class="docutils literal notranslate"><span class="pre">genformtxt</span></code> (<em>Optional</em>)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#using-pd-read-csv">4.2 Using <code class="docutils literal notranslate"><span class="pre">pd.read_csv</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#perform-calculations-with-numpy">5. Perform calculations with NumPy</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#formula">5.1 Formula</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#functions">5.2 Functions</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#numpy-methods">5.3 NumPy methods</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#perform-operation-along-a-specific-dimesion">5.4 Perform operation along a specific dimesion</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#apply-a-function-to-a-numpy-array-optional">5.5 Apply a function to a NumPy Array (<em>optional</em>)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#example-advanced">5.6 Example (<em>advanced</em>)</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#indexing-and-subsetting-arrays">6. Indexing and subsetting arrays</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#indexing">6.1 Indexing</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#slicing">6.2 Slicing</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#indexing-arrays-with-boolean-values">6.3 Indexing arrays with boolean values</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#array-comparisons">6.3.1 Array comparisons</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#replacing-values-with-indexing">6.3.2 Replacing values with indexing</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#cleaning-data-replacing-nan-with-np-nan-to-num">6.3.3 Cleaning data: Replacing NaN with <code class="docutils literal notranslate"><span class="pre">np.nan_to_num</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#cleaning-data-remove-rows-with-nan">6.3.4 Cleaning data: Remove rows with NaN</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#cleaning-data-remove-rows-with-nan-for-mixed-data-array">6.3.5 Cleaning data: Remove rows with NaN for mixed data array</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#indexing-using-arrays-of-indices-optional">6.3.6 Indexing using arrays of indices (<em>optional</em>)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#loop-through-an-numpy-array">7. Loop through an NumPy array</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#loop-through-elements">7.1 Loop through elements</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#loop-with-index">7.2 Loop with index</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#loop-with-index-using-np-ndindex">7.3 Loop with index using <code class="docutils literal notranslate"><span class="pre">np.ndindex</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#broadcasting-advanced">8. Broadcasting (<em>advanced</em>)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#write-numpy-arrays-to-a-file">9. Write NumPy arrays to a file</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#write-numpy-arrays-to-csv-files">9.1 Write NumPy arrays to csv files</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#write-numpy-arrays-to-npy-files">9.2 Write NumPy arrays to npy files</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#write-numpy-arrays-to-npz-file">9.3 Write NumPy arrays to npz file</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#summary">10. Summary</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#resources-and-references">Resources and references</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <p><img src=https://github.com/numpy/numpy/raw/main/branding/logo/primary/numpylogo.svg width=250 alt="NumPy Logo"></img></p>
<section class="tex2jax_ignore mathjax_ignore" id="lessons-18-19-numpy-basics">
<h1>Lessons 18-19: NumPy Basics<a class="headerlink" href="#lessons-18-19-numpy-basics" title="Link to this heading">#</a></h1>
<p>This lesson is modified from <a class="reference external" href="https://foundations.projectpythia.org/core/numpy/numpy-basics.html">NumPy Basics</a> by <a class="reference external" href="https://projectpythia.org">Project Pythia</a>.</p>
<p><a class="reference external" href="https://mybinder.org/v2/gh/aselshall/eds/HEAD"><img alt="Binder" src="https://mybinder.org/badge_logo.svg" /></a></p>
<hr class="docutils" />
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading">#</a></h2>
<p>NumPy is a  basic package for scientific computing in Python. It offers powerful capabilities for working with n-dimensional arrays, a wide range of mathematical functions, and integration with Fortran, C, and C++ libraries. By the end of this lessons you will be able to:</p>
<ul class="simple">
<li><p>Create NumPy arrays</p></li>
<li><p>Inspect  NumPy arrays with slicing and indexing</p></li>
<li><p>Preform math calculations with NumPy arrays</p></li>
<li><p>Read and save NumPy arrays</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="installing-and-importing-numpy">
<h2>1. Installing and importing NumPy<a class="headerlink" href="#installing-and-importing-numpy" title="Link to this heading">#</a></h2>
<section id="installation">
<h3>1.1 Installation<a class="headerlink" href="#installation" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#pip install --upgrade pip</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#pip install numpy</span>
</pre></div>
</div>
</div>
</div>
<p>After each the installation is complete, make sure to restart the kernel from the menu <code class="docutils literal notranslate"><span class="pre">Kernel</span></code>:<code class="docutils literal notranslate"><span class="pre">Restart</span> <span class="pre">Kernel...</span></code>. You need to install these once. Then you can comment the installation command (as they are already commented above) or delete these cells to avoid repeating this ever time your run this notebook.</p>
</section>
<section id="imports">
<h3>1.2 Imports<a class="headerlink" href="#imports" title="Link to this heading">#</a></h3>
<p>Just as we used the nickname <code class="docutils literal notranslate"><span class="pre">pd</span></code> used as an abbreviation for <code class="docutils literal notranslate"><span class="pre">pandas</span></code> in the import statement, we often import <code class="docutils literal notranslate"><span class="pre">numpy</span></code> as <code class="docutils literal notranslate"><span class="pre">np</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">ModuleNotFoundError</span><span class="g g-Whitespace">                       </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">line</span> <span class="mi">2</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="ne">----&gt; </span><span class="mi">2</span> <span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span> <span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="ne">ModuleNotFoundError</span>: No module named &#39;pandas&#39;
</pre></div>
</div>
</div>
</div>
<div class="admonition alert alert-info">
    <p class="admonition-title" style="font-weight:bold">Note</p>
    As a good coding practice, we generally import all the packages that we will need in the first cell in our notebook. However, we are importing NumPy here in the middle of our notebook for educational purpose.</a>
</div></section>
</section>
<section id="basic-concepts-and-terminologies">
<h2>2. Basic concepts and terminologies<a class="headerlink" href="#basic-concepts-and-terminologies" title="Link to this heading">#</a></h2>
<section id="numpy-array">
<h3>2.1 NumPy array<a class="headerlink" href="#numpy-array" title="Link to this heading">#</a></h3>
<p>Below is a 7x4 2D NumPy array with 28 values, where the first dimension corresponds to rows and the second dimension corresponds to columns. Indexing works similarly to Python, starting from 0. This means that the element at the first row and first column is accessed using index (0, 0), the element at the second row and second column with index (1, 1), and so forth.</p>
<p><img alt="image.png" src="Chapters/7. NumPy for Scientific Computing  7. NumPy for Scientific Computing/attachment:3de424a6-87c7-4345-ad58-0cb4b07b990a.png" /></p>
</section>
<section id="why-array-computing">
<h3>2.2 Why array computing?<a class="headerlink" href="#why-array-computing" title="Link to this heading">#</a></h3>
<p>In core Python, adding sequences of values requires writing a manual loops as we did before.</p>
<p>Try doing <code class="docutils literal notranslate"><span class="pre">C</span> <span class="pre">=</span> <span class="pre">A</span> <span class="pre">+</span> <span class="pre">B</span></code> with core Python</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Add these two lists using core Python </span>
<span class="n">A</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">]</span>
<span class="n">B</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">]</span>

<span class="c1"># C = A+B with a for loop: </span>
<span class="c1"># Define empty list C  </span>
<span class="c1"># looping through A and B lists</span>
<span class="c1"># add elements in each list</span>
<span class="c1"># use `.append()` to update C</span>
<span class="n">C</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">):</span>
    <span class="n">c</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
    <span class="n">C</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">C</span><span class="p">)</span>

<span class="c1"># Add with list comprehension (optional)</span>
<span class="n">C</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span> <span class="o">+</span> <span class="n">b</span> <span class="k">for</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">)]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">C</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>This is verbose. Now do this with NumPy</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Add these two lists using NumPy</span>
<span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">])</span>
<span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">])</span>

<span class="c1"># Add with Numpy</span>
<span class="n">C</span> <span class="o">=</span> <span class="n">A</span> <span class="o">+</span> <span class="n">B</span>
<span class="nb">print</span><span class="p">(</span><span class="n">C</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="numpy-matlab-r-and-julia">
<h3>2.3 NumPy, MATLAB, R, and Julia<a class="headerlink" href="#numpy-matlab-r-and-julia" title="Link to this heading">#</a></h3>
<p>NumPy, like MATLAB and R, enables array-oriented computing. Here are few differences.</p>
<p>Here is the updated table with information filled in for the Julia column:</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Feature</p></th>
<th class="head"><p>NumPy</p></th>
<th class="head"><p>MATLAB</p></th>
<th class="head"><p>R</p></th>
<th class="head"><p>Julia</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Verbosity</p></td>
<td><p>Can be more verbose</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
</tr>
<tr class="row-odd"><td><p>Indexing and Memory Order</p></td>
<td><p>0-based indexing, row-major order</p></td>
<td><p>1-based indexing, column-major order</p></td>
<td><p>1-based indexing, column-major order</p></td>
<td><p>1-based indexing, column-major order</p></td>
</tr>
<tr class="row-even"><td><p>Variable Assignment</p></td>
<td><p>Creates a reference, use <code class="docutils literal notranslate"><span class="pre">.copy()</span></code> for a new copy</p></td>
<td><p>Creates a copy by default, arrays are separate copies</p></td>
<td><p>Creates a copy by default, arrays are separate copies</p></td>
<td><p>Creates a copy by default, arrays are separate copies</p></td>
</tr>
<tr class="row-odd"><td><p>Data Structures</p></td>
<td><p>Mainly focuses on arrays and matrices</p></td>
<td><p>Mainly focuses on matrices and cell arrays</p></td>
<td><p>Supports a wide range of data structures like vectors, lists, and data frames</p></td>
<td><p>Supports a wide range of data structures like arrays, tuples, dictionaries, and user-defined composite types</p></td>
</tr>
<tr class="row-even"><td><p>Function Syntax</p></td>
<td><p>Uses universal functions (ufuncs) for element-wise operations</p></td>
<td><p>Uses element-wise operations with dot notation (e.g., <code class="docutils literal notranslate"><span class="pre">.*</span></code>, <code class="docutils literal notranslate"><span class="pre">./</span></code>)</p></td>
<td><p>Vectorized operations with functions like <code class="docutils literal notranslate"><span class="pre">apply</span></code></p></td>
<td><p>Supports vectorized operations and broadcasting with functions like <code class="docutils literal notranslate"><span class="pre">broadcast</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Broadcasting</p></td>
<td><p>Supports broadcasting for element-wise operations</p></td>
<td><p>Requires array sizes to match for element-wise operations</p></td>
<td><p>Supports broadcasting for element-wise operations</p></td>
<td><p>Supports broadcasting for element-wise operations</p></td>
</tr>
</tbody>
</table>
<section id="numpy-can-be-more-verbose">
<h4>2.31 NumPy can be more verbose<a class="headerlink" href="#numpy-can-be-more-verbose" title="Link to this heading">#</a></h4>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="c">% Create a MATLAB array</span>
<span class="n">arr1</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="mi">5</span><span class="p">];</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a NumPy array</span>
<span class="n">arr1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span>

<span class="c1"># Perform element-wise operation (Python or MATLAB)</span>
<span class="n">arr2</span> <span class="o">=</span> <span class="n">arr1</span> <span class="o">*</span> <span class="mi">2</span>
</pre></div>
</div>
</section>
<section id="indexing-and-memory-order">
<h4>2.3.2 Indexing and memory order<a class="headerlink" href="#indexing-and-memory-order" title="Link to this heading">#</a></h4>
<p>In MATLAB and R, indexing starts at 1. MATLAB and R follow a column-major order for indexing, where elements in a matrix are stored column by column. For example, accessing the first element of a matrix in MATLAB would be <code class="docutils literal notranslate"><span class="pre">A(1,</span> <span class="pre">1)</span></code>. On the other hand, NumPy follows the Python convention of 0-based indexing. NumPy uses row-major order for indexing, storing elements row by row in memory. So, accessing the first element of a NumPy array would be <code class="docutils literal notranslate"><span class="pre">arr[0]</span></code>.</p>
<p>MATLAB Indexing:</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">A</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span><span class="w"> </span><span class="n">4</span><span class="w"> </span><span class="s">5</span><span class="w"> </span><span class="s">6</span><span class="p">;</span><span class="w"> </span><span class="n">7</span><span class="w"> </span><span class="s">8</span><span class="w"> </span><span class="s">9]</span><span class="p">;</span>
<span class="n">first_element</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">A</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
</pre></div>
</div>
<p>NumPy Indexing (Python):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]])</span>
<span class="n">first_element</span> <span class="o">=</span> <span class="n">arr</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</section>
<section id="variable-assignment">
<h4>2.3.3 Variable assignment<a class="headerlink" href="#variable-assignment" title="Link to this heading">#</a></h4>
<p>In Numpy, assigning one array to another creates a reference to the same memory location, and thus any modifications to one array affect the other. To create a copy in NumPy similar to Pandas, you must use the <code class="docutils literal notranslate"><span class="pre">.copy()</span></code> method to duplicate the array into a new memory space. On the other hand, in MATLAB and R, assigning one array to another results in automatic duplication, creating separate copies with their own memory locations.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">arr1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span>
<span class="n">arr2</span> <span class="o">=</span> <span class="n">arr1</span>  <span class="c1"># Creates a reference</span>
<span class="n">arr2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">10</span>  <span class="c1"># Modifying arr2 affects arr1 as well</span>
<span class="nb">print</span><span class="p">(</span><span class="n">arr1</span><span class="p">)</span>  <span class="c1"># Output: [10 2 3 4 5]</span>

<span class="n">arr3</span> <span class="o">=</span> <span class="n">arr1</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>  <span class="c1"># Create a new copy</span>
<span class="n">arr3</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">20</span>  <span class="c1"># Modifying arr3 does not affect arr1</span>
<span class="nb">print</span><span class="p">(</span><span class="n">arr1</span><span class="p">)</span>  <span class="c1"># Output: [10 2 3 4 5]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">arr3</span><span class="p">)</span>  <span class="c1"># Output: [10 20 3 4 5]</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="which-tool-to-use">
<h4>2.3.4 Which tool to use?<a class="headerlink" href="#which-tool-to-use" title="Link to this heading">#</a></h4>
<p>MATLAB, R, Julia, and Python are powerful tools for data analysis and scientific computing, each with its own strengths and weaknesses. Here is a comparison:</p>
<ul class="simple">
<li><p>MATLAB is ideal for projects that can leverage its specialized engineering toolboxes and where the availability of licenses is not a concern.</p></li>
<li><p>R shines in statistical analysis and is particularly suited for projects with a strong emphasis on statistical rigor and where the richness of R’s packages can be fully utilized.</p></li>
<li><p>Julia is known for its high performance and ease of use in numerical computing, making it a great choice for projects that require fast execution and mathematical operations.</p></li>
<li><p>Python with NumPy is an all-around candidate, particularly for projects that may require integration with other aspects of the Python ecosystem.</p></li>
</ul>
<p>When choosing a tool for environmental data science, factors such as the specific task at hand, available resources, existing expertise, and integration with other tools should be considered.</p>
</section>
</section>
</section>
<section id="generating-a-numpy-area">
<h2>3. Generating a NumPy area<a class="headerlink" href="#generating-a-numpy-area" title="Link to this heading">#</a></h2>
<p>There are different ways to generate NumPy arrays. Here are few examples.</p>
<section id="using-np-array-function">
<h3>3.1 Using <code class="docutils literal notranslate"><span class="pre">np.array()</span></code> function<a class="headerlink" href="#using-np-array-function" title="Link to this heading">#</a></h3>
<p>Syntax: <code class="docutils literal notranslate"><span class="pre">np.array(object,</span> <span class="pre">dtype=None,</span> <span class="pre">copy=True,</span> <span class="pre">order='K',</span> <span class="pre">subok=False,</span> <span class="pre">ndmin=0)</span></code></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">object</span></code>: This is the input data that you want to convert to a NumPy array. It can be a list, tuple, array-like object, etc.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dtype</span></code>: The data type of the array elements. If not specified, NumPy will determine the data type of the array based on the input data. Common data types include <code class="docutils literal notranslate"><span class="pre">int</span></code>, <code class="docutils literal notranslate"><span class="pre">float</span></code>, <code class="docutils literal notranslate"><span class="pre">str</span></code>, etc.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">copy</span></code>: A boolean parameter that specifies whether to make a copy of the input data (<code class="docutils literal notranslate"><span class="pre">object</span></code>). By default, it is set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, which means a copy is made. If set to <code class="docutils literal notranslate"><span class="pre">False</span></code>, the function will try to avoid a copy and use the input data directly.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">order</span></code>: Specifies the memory layout of the array. It can be <code class="docutils literal notranslate"><span class="pre">'C'</span></code> for C-style (row-major) or <code class="docutils literal notranslate"><span class="pre">'F'</span></code> for Fortran-style (column-major). The default value <code class="docutils literal notranslate"><span class="pre">'K'</span></code> means to keep the order of the input data.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">subok</span></code>: A boolean parameter indicating whether to force the data type of the output array to be a base class of the input data type. The default is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ndmin</span></code>: Specifies the minimum number of dimensions that the resulting array should have. If set to a value greater than the number of dimensions in the input data, the output will have additional dimensions.</p></li>
</ul>
<p>Example, create this list with two sublists</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">]]</span>
</pre></div>
</div>
<p>and convert the list to NumPy array   ```</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Define a Python list containing two sublists representing rows of data</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">]]</span>

<span class="c1"># Convert the Python list &#39;data&#39; to a NumPy array and assign it to the variable &#39;np_array&#39;</span>


<span class="c1"># Print array type, shape, and values</span>
<span class="nb">print</span><span class="p">(</span><span class="n">np_array</span><span class="o">.</span><span class="n">dtype</span><span class="p">,</span> <span class="n">np_array</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">np_array</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="admonition alert alert-warning">
    <p class="admonition-title" style="font-weight:bold">Warning</p>
    Length of rows must be the same
</div></section>
<section id="using-np-arange-to-create-an-array-with-a-range-of-values-optional">
<h3>3.2 Using <code class="docutils literal notranslate"><span class="pre">np.arange()</span></code> to create an array with a range of values (<em>optional</em>)<a class="headerlink" href="#using-np-arange-to-create-an-array-with-a-range-of-values-optional" title="Link to this heading">#</a></h3>
<p>Syntax: <code class="docutils literal notranslate"><span class="pre">np.arange([start,</span> <span class="pre">]stop,</span> <span class="pre">[step,</span> <span class="pre">]dtype=None)</span></code></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">[start,</span> <span class="pre">]</span></code>: Optional start value. Default is 0.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">stop</span></code>: End value exclusive.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[step,</span> <span class="pre">]</span></code>: Optional step size. Default is 1.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dtype=None</span></code>: Optional data type specification of output</p></li>
</ul>
<p>Let us generate</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">]</span>
</pre></div>
</div>
<p>using np.arange.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Generate data with `np.arange` as `np_arange` and print it.</span>


<span class="c1"># Print array type, shape, and values</span>
<span class="nb">print</span><span class="p">(</span><span class="n">np_arange</span><span class="o">.</span><span class="n">dtype</span><span class="p">,</span> <span class="n">np_arange</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">np_arange</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>What is we want to generate the data below?</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span> 
 <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">]]</span>
</pre></div>
</div>
<p>To do this we can create a list, generate data using <code class="docutils literal notranslate"><span class="pre">np.arange</span></code> for each row as a sublist, and convert list to numpy array with <code class="docutils literal notranslate"><span class="pre">np.array</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Generate data using np.arange for each row and combine with np.array in a list</span>
<span class="n">np_arange</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">10</span><span class="p">)])</span>

<span class="c1"># Print array type, shape, and values</span>
<span class="nb">print</span><span class="p">(</span><span class="n">np_arange</span><span class="o">.</span><span class="n">dtype</span><span class="p">,</span> <span class="n">np_arange</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">np_arange</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="using-np-linspace-to-create-an-array-with-evenly-spaced-values-optional">
<h3>3.3 Using <code class="docutils literal notranslate"><span class="pre">np.linspace()</span></code> to create an array with evenly spaced values (<em>optional</em>)<a class="headerlink" href="#using-np-linspace-to-create-an-array-with-evenly-spaced-values-optional" title="Link to this heading">#</a></h3>
<p>Syntax: <code class="docutils literal notranslate"><span class="pre">np.linspace(start,</span> <span class="pre">stop,</span> <span class="pre">num=50,</span> <span class="pre">endpoint=True,</span> <span class="pre">retstep=False,</span> <span class="pre">dtype=None)</span></code></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">start</span></code>: The starting value of the sequence.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">stop</span></code>: The end value of the sequence.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">num</span></code>: The number of samples to generate. Default is 50.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">endpoint</span></code>: If <code class="docutils literal notranslate"><span class="pre">True</span></code>, <code class="docutils literal notranslate"><span class="pre">stop</span></code> is the last sample. Default is <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">retstep</span></code>: If <code class="docutils literal notranslate"><span class="pre">True</span></code>, return <code class="docutils literal notranslate"><span class="pre">(array,</span> <span class="pre">step)</span></code>, where <code class="docutils literal notranslate"><span class="pre">step</span></code> is the spacing between samples.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dtype</span></code>: The data type of the output array.</p></li>
</ul>
<p>Let us create an array ‘linspace_array’ using np.linspace with start=2, stop=10, and containing 17 equally spaced elements</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Generate &#39;linspace_array&#39; with np.linspace: start=2, stop=10, 16 elements</span>


<span class="c1"># Print array type, shape, and values</span>
<span class="nb">print</span><span class="p">(</span><span class="n">linspace_array</span><span class="o">.</span><span class="n">dtype</span><span class="p">,</span> <span class="n">linspace_array</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">linspace_array</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>You can even display the spacing between samples with the parameter <code class="docutils literal notranslate"><span class="pre">retstep=True</span></code></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Generate &#39;linspace_array&#39; with np.linspace: start=2, stop=10, 16 elements with `retstep=True`</span>
<span class="n">linspace_array</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">17</span><span class="p">,</span><span class="n">retstep</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Print array type, shape, and values</span>
<span class="nb">print</span><span class="p">(</span><span class="n">linspace_array</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">dtype</span><span class="p">,</span> <span class="n">linspace_array</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">linspace_array</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="using-np-ones-or-np-zeros-to-create-ones-or-zeros-array-optional">
<h3>3.4 Using <code class="docutils literal notranslate"><span class="pre">np.ones()</span></code> or <code class="docutils literal notranslate"><span class="pre">np.zeros()</span></code> to create ones or zeros array (<em>optional</em>)<a class="headerlink" href="#using-np-ones-or-np-zeros-to-create-ones-or-zeros-array-optional" title="Link to this heading">#</a></h3>
<p>Syntax: <code class="docutils literal notranslate"><span class="pre">np.ones(shape,</span> <span class="pre">dtype=None,</span> <span class="pre">order='C')</span></code><br />
Syntax: <code class="docutils literal notranslate"><span class="pre">np.zeros(shape,</span> <span class="pre">dtype=None,</span> <span class="pre">order='C')</span></code></p>
<p>Try creating 3x5 array with values of zeros, ones, and eights</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Generate and print 3x5 np_zeros array</span>

<span class="nb">print</span><span class="p">(</span><span class="n">np_zeros</span><span class="o">.</span><span class="n">dtype</span><span class="p">,</span> <span class="n">np_zeros</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">np_zeros</span><span class="p">,</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Generate and print 3x5 np_ones array</span>
<span class="n">np_ones</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span>

<span class="nb">print</span><span class="p">(</span><span class="n">np_ones</span><span class="o">.</span><span class="n">dtype</span><span class="p">,</span> <span class="n">np_ones</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">np_ones</span><span class="p">,</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="c1"># Generate and print 3x5 np_eights array</span>
<span class="n">np_eights</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span> <span class="o">*</span> <span class="mi">8</span>

<span class="nb">print</span><span class="p">(</span><span class="n">np_eights</span><span class="o">.</span><span class="n">dtype</span><span class="p">,</span> <span class="n">np_eights</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">np_eights</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="using-np-full-with-any-specified-value-and-type">
<h3>3.5 Using <code class="docutils literal notranslate"><span class="pre">np.full()</span></code> with any specified value and type<a class="headerlink" href="#using-np-full-with-any-specified-value-and-type" title="Link to this heading">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">np.full</span></code> function in NumPy is used to create a new array of a specified shape and fill it with a specified value.
Syntax: <code class="docutils literal notranslate"><span class="pre">np.full(shape,</span> <span class="pre">fill_value,</span> <span class="pre">dtype=None,</span> <span class="pre">order='C')</span></code></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">shape</span></code>: The shape of the new array. This can be a single integer to specify a 1-D array or a tuple of integers to specify multi-dimensional arrays.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fill_value</span></code>: The value to fill the new array with.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dtype</span></code>: The data type of the output array. If not specified, the data type is inferred from the <code class="docutils literal notranslate"><span class="pre">fill_value</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">order</span></code>: Specifies the memory layout of the array. By default, it is ‘C’, which specifies row-major order.</p></li>
</ul>
<p>For example, let us create 3x5 NumPy array filled with NaN values.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Generate and print 3x5 np_nans array</span>


<span class="nb">print</span><span class="p">(</span><span class="n">np_nans</span><span class="o">.</span><span class="n">dtype</span><span class="p">,</span> <span class="n">np_nans</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">np_nans</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>In this example, we will create two NumPy arrays:</p>
<ul class="simple">
<li><p>An array named <code class="docutils literal notranslate"><span class="pre">colors</span></code> of size 5, initialized using <code class="docutils literal notranslate"><span class="pre">np.full()</span></code> with all elements set to ‘black’.</p></li>
<li><p>An array named <code class="docutils literal notranslate"><span class="pre">values</span></code> of size 5, created using <code class="docutils literal notranslate"><span class="pre">np.array()</span></code> with some arbitrary values.</p></li>
</ul>
<p>The task is to update the <code class="docutils literal notranslate"><span class="pre">colors</span></code> array such that if the values at corresponding positions in the <code class="docutils literal notranslate"><span class="pre">values</span></code> array are 10 or higher, the value in the <code class="docutils literal notranslate"><span class="pre">colors</span></code> array will be changed to ‘Red’.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create the array (5,) with arbitrary values</span>
<span class="n">values</span><span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">10</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">17</span><span class="p">])</span>

<span class="c1"># Create the colors array (5,) with all elements set to &#39;black&#39;</span>
<span class="n">colors</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">full</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;Black&#39;</span><span class="p">)</span>

<span class="c1"># Update colors to &#39;Red&#39; where values &gt;= 5</span>
<span class="n">colors</span><span class="p">[</span><span class="n">values</span> <span class="o">&gt;=</span> <span class="mi">10</span> <span class="p">]</span><span class="o">=</span> <span class="s1">&#39;Red&#39;</span>

<span class="c1"># Display array, type, shape and values</span>
<span class="nb">print</span><span class="p">(</span><span class="n">colors</span><span class="o">.</span><span class="n">dtype</span><span class="p">,</span> <span class="n">colors</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">colors</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="read-csv-file-with-mixed-data-types-as-numpy-array">
<h2>4. Read csv file with mixed data types as NumPy array<a class="headerlink" href="#read-csv-file-with-mixed-data-types-as-numpy-array" title="Link to this heading">#</a></h2>
<p>We want to read the AQI data from ‘aqi_data_Miami.csv’ into a NumPy array. To read a CSV file into one NumPy array with mixed data types (datetime and floats) is tricky. Using <code class="docutils literal notranslate"><span class="pre">np.loadtxt</span></code> directly will not work due to datetime and numeric data. Instead, we can use <code class="docutils literal notranslate"><span class="pre">np.genfromtxt</span></code> of NumPy or <code class="docutils literal notranslate"><span class="pre">pd.read_csv</span></code> of Pandas.</p>
<section id="using-genformtxt-optional">
<h3>4.1 Using <code class="docutils literal notranslate"><span class="pre">genformtxt</span></code> (<em>Optional</em>)<a class="headerlink" href="#using-genformtxt-optional" title="Link to this heading">#</a></h3>
<p>To read a CSV file into one NumPy array with mixed data types (datetime and floats), you can use the <code class="docutils literal notranslate"><span class="pre">genfromtxt</span></code> function with appropriate data types specified for each column, or read it as an object and convert to float or datetime as needed.</p>
<p>Here’s an example:</p>
<ul class="simple">
<li><p>We load the CSV file as an array of objects (strings)</p></li>
<li><p>We replace empty strings with np.nan before converting to datetime or float</p></li>
<li><p>We convert string to datetime or float</p></li>
</ul>
<p>By handling empty strings and converting the data to datetime or floats, this approach should help you avoid the conversion error when using different NumPy functions and methods. Here we are only replacing empty strings with np.nan; how to handle NaN when performing calculations is a different issue that is discussed later.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Read the CSV file into a NumPy string array with dtype object</span>
<span class="c1"># Column names: [datetime-empty], &#39;PM2.5&#39;, &#39;PM10&#39;,  &#39;NO2&#39;, &#39;SO2&#39;,  &#39;CO&#39;, &#39;O3&#39;</span>
<span class="n">data_genfromtxt</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">genfromtxt</span><span class="p">(</span><span class="s1">&#39;data/aqi_data_Miami.csv&#39;</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">object</span><span class="p">,</span> <span class="n">skip_header</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;data_str:&quot;</span><span class="p">,</span> <span class="n">data_genfromtxt</span><span class="o">.</span><span class="n">dtype</span><span class="p">,</span> <span class="n">data_genfromtxt</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">data_genfromtxt</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="c1"># Extracting first column as datetime (you can do it in one line)</span>
<span class="n">dates</span> <span class="o">=</span><span class="n">data_genfromtxt</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span>  <span class="c1"># String</span>
<span class="n">dates</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">dates</span> <span class="o">==</span> <span class="sa">b</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="n">dates</span><span class="p">)</span> <span class="c1"># Replace empty strings with a placeholder value (np.nan)</span>
<span class="n">dates</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">dates</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">datetime64</span><span class="p">)</span> <span class="c1"># Convert string to dateime</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;dates:&quot;</span><span class="p">,</span> <span class="n">dates</span><span class="o">.</span><span class="n">dtype</span><span class="p">,</span> <span class="n">dates</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">dates</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="c1"># Extract numerical values as numbers (you can do it in one line)</span>
<span class="n">values</span> <span class="o">=</span> <span class="n">data_genfromtxt</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">:]</span> <span class="c1"># String</span>
<span class="n">values</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">values</span> <span class="o">==</span> <span class="sa">b</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="n">values</span><span class="p">)</span> <span class="c1"># Replace empty strings with a placeholder value (np.nan)</span>
<span class="n">values</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">)</span> <span class="c1"># Convert string to float</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;values:&quot;</span><span class="p">,</span> <span class="n">values</span><span class="o">.</span><span class="n">dtype</span><span class="p">,</span> <span class="n">values</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">],)</span>
</pre></div>
</div>
</div>
</div>
<div class="admonition alert alert-info">
    <p class="admonition-title" style="font-weight:bold">Info</p>
    <p>When you see <code>dtype=object</code> in a NumPy array, it implies that the elements in that array are not of a homogeneous data type like integers, floats, or strings. Instead, each element can be of any Python object type, which can make operations on the array less efficient compared to arrays with a fixed data type.</p>
</div></section>
<section id="using-pd-read-csv">
<h3>4.2 Using <code class="docutils literal notranslate"><span class="pre">pd.read_csv</span></code><a class="headerlink" href="#using-pd-read-csv" title="Link to this heading">#</a></h3>
<p>To read the data into NumPy array as follows:</p>
<ul class="simple">
<li><p>Read the data from ‘aqi_data_Miami.csv’with Pandas as DataFrame</p></li>
<li><p>Convert DataFrame into a NumPy array using <code class="docutils literal notranslate"><span class="pre">.to_numpy()</span></code></p></li>
<li><p>Convert first column into datetime format using <code class="docutils literal notranslate"><span class="pre">pd.to_datetime()</span></code></p></li>
</ul>
<p>Let us try to do it.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Read the CSV file into a NumPy mixed type array with dtype object</span>
<span class="c1"># Column names: [datetime-empty], &#39;PM2.5&#39;, &#39;PM10&#39;,  &#39;NO2&#39;, &#39;SO2&#39;,  &#39;CO&#39;, &#39;O3&#39;</span>
<span class="n">data_read_csv</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/aqi_data_Miami.csv&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()</span>

<span class="c1"># Convert the first column in the NumPy array to datetime format</span>
<span class="n">data_read_csv</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">data_read_csv</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;data:&quot;</span><span class="p">,</span> <span class="n">data_read_csv</span><span class="o">.</span><span class="n">dtype</span><span class="p">,</span> <span class="n">data_read_csv</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">data_read_csv</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="c1"># Extracting first column as datetime (you can do it in one line)</span>
<span class="n">dates</span> <span class="o">=</span><span class="n">data_read_csv</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span>  <span class="c1"># object</span>
<span class="n">dates</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">dates</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">datetime64</span><span class="p">)</span> <span class="c1"># Convert object to dateime</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;dates:&quot;</span><span class="p">,</span> <span class="n">dates</span><span class="o">.</span><span class="n">dtype</span><span class="p">,</span> <span class="n">dates</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">dates</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="c1"># Extract numerical values as numbers (you can do it in one line)</span>
<span class="n">values</span> <span class="o">=</span> <span class="n">data_read_csv</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">:]</span> <span class="c1"># object</span>
<span class="n">values</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">)</span> <span class="c1"># Convert object to float</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;values:&quot;</span><span class="p">,</span> <span class="n">values</span><span class="o">.</span><span class="n">dtype</span><span class="p">,</span> <span class="n">values</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">data_genfromtxt</span></code> array is mainly a string array unsuitable for calculations, while <code class="docutils literal notranslate"><span class="pre">data_read_csv</span></code> can be used for calculations but may cause data type errors with certain NumPy operations, functions, or methods.</p>
<div class="admonition alert alert-info">
    <p class="admonition-title" style="font-weight:bold">Info</p>
The purpose of <code>np.asarray</code> is to ensure that the input is returned as a NumPy array, irrespective of whether the input is already a NumPy array or another array-like object. You can use the keyword argument <code>dtype</code> to set data type.
</div></section>
</section>
<section id="perform-calculations-with-numpy">
<h2>5. Perform calculations with NumPy<a class="headerlink" href="#perform-calculations-with-numpy" title="Link to this heading">#</a></h2>
<section id="formula">
<h3>5.1 Formula<a class="headerlink" href="#formula" title="Link to this heading">#</a></h3>
<p>NumPy is used for basic arithmetic operations such as addition (<code class="docutils literal notranslate"><span class="pre">+</span></code>), subtraction (<code class="docutils literal notranslate"><span class="pre">-</span></code>), division (<code class="docutils literal notranslate"><span class="pre">/</span></code>), multiplication (<code class="docutils literal notranslate"><span class="pre">*</span></code>), exponentiation (<code class="docutils literal notranslate"><span class="pre">**</span></code>).</p>
<p>For example compute element-wise:<br />
<span class="math notranslate nohighlight">\(c= 4a^2 - b + 5\)</span></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Add these two lists using NumPy</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">])</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">])</span>

<span class="c1"># Add with Numpy</span>

<span class="nb">print</span><span class="p">(</span><span class="n">C</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="admonition alert alert-warning">
    <p class="admonition-title" style="font-weight:bold">Warning</p>
    These arrays must be the same shape!
</div></section>
<section id="functions">
<h3>5.2 Functions<a class="headerlink" href="#functions" title="Link to this heading">#</a></h3>
<p>In addition to basic arithmetic operations, NumPy has common mathematical and trigonometric functions, descriptive statistics and statistical functions, rounding functions, and commonly used math functions.</p>
<p><strong>Arithmetic Operations</strong></p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Calculation</p></th>
<th class="head"><p>Op</p></th>
<th class="head"><p>NumPy Function</p></th>
<th class="head"><p>Output</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Addition</p></td>
<td><p>+</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">np.add(2,</span> <span class="pre">3)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">5</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Subtraction</p></td>
<td><p>-</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">np.subtract(5,</span> <span class="pre">2)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">3</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Division</p></td>
<td><p>/</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">np.divide(6,</span> <span class="pre">2)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">3.0</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Multiplication</p></td>
<td><p>*</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">np.multiply(2,</span> <span class="pre">4)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">8</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Exponentiation</p></td>
<td><p>**</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">np.power(2,</span> <span class="pre">3)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">8</span></code></p></td>
</tr>
</tbody>
</table>
<p><strong>Absolute and Sign Functions</strong></p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Calculation</p></th>
<th class="head"><p>NumPy Function</p></th>
<th class="head"><p>Output</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Absolute value</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">np.abs(-5)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">5</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Sign function</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">np.sign(-3)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-1</span></code></p></td>
</tr>
</tbody>
</table>
<p><strong>Square Root and Exponential Functions</strong></p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Calculation</p></th>
<th class="head"><p>NumPy Function</p></th>
<th class="head"><p>Output</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Square root</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">np.sqrt(25)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">5.0</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Cube root</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">np.cbrt(8)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">2.0</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Exponential</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">np.exp(2)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">7.3890561</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>2^x</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">np.exp2(3)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">8.0</span></code></p></td>
</tr>
</tbody>
</table>
<p><strong>Logarithmic Functions</strong></p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Calculation</p></th>
<th class="head"><p>NumPy Function</p></th>
<th class="head"><p>Output</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Natural logarithm</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">np.log(10)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">2.3025851</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Logarithm (base 10)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">np.log10(100)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">2.0</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Logarithm (base 2)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">np.log2(8)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">3.0</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Logarithm (base x)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">np.log(8)/np.log(2)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">3.0</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Logarithm of (1+x)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">np.log1p(0.5)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">0.4054651</span></code></p></td>
</tr>
</tbody>
</table>
<p><strong>Trigonometric Functions</strong></p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Calculation</p></th>
<th class="head"><p>NumPy Function</p></th>
<th class="head"><p>Output</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Sine</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">np.sin(np.pi/2)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">1.0</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Cosine</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">np.cos(0)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">1.0</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Tangent</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">np.tan(np.pi/4)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">1.0</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Inverse Sine</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">np.arcsin(1)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">1.5707963</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Inverse Cosine</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">np.arccos(0)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">1.5707963</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Inverse Tangent</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">np.arctan(1)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">0.7853982</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Hyperbolic Sine</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">np.sinh(0.5)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">0.5210953</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Inverse Hyperbolic</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">np.arcsinh(0.5)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">0.48121183</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Convert to Radians</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">np.radians(90)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">1.5707963</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Convert to Degrees</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">np.degrees(np.pi)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">180.0</span></code></p></td>
</tr>
</tbody>
</table>
<p><strong>Statistical Functions</strong></p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Calculation</p></th>
<th class="head"><p>NumPy Function</p></th>
<th class="head"><p>Output</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Mean (average)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">np.mean([1,</span> <span class="pre">2,</span> <span class="pre">3])</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">2.0</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Mean with NaN values</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">np.nanmean([1,</span> <span class="pre">2,</span> <span class="pre">np.nan,</span> <span class="pre">3])</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">2.0</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Standard deviation</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">np.std([1,</span> <span class="pre">2,</span> <span class="pre">3])</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">0.81649658</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Standard deviation with NaN values</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">np.nanstd([1,</span> <span class="pre">2,</span> <span class="pre">np.nan,</span> <span class="pre">3])</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">0.816496580927726</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Variance</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">np.var([1,</span> <span class="pre">2,</span> <span class="pre">3])</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">0.66666667</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Variance with NaN values</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">np.nanvar([1,</span> <span class="pre">2,</span> <span class="pre">np.nan,</span> <span class="pre">3])</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">0.6666666666666666</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Maximum value</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">np.max([1,</span> <span class="pre">2,</span> <span class="pre">3])</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">3</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Maximum value with NaN values</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">np.nanmax([1,</span> <span class="pre">2,</span> <span class="pre">np.nan,</span> <span class="pre">3])</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">3.0</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Minimum value</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">np.min([1,</span> <span class="pre">2,</span> <span class="pre">3])</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">1</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Minimum value with NaN values</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">np.nanmin([1,</span> <span class="pre">2,</span> <span class="pre">np.nan,</span> <span class="pre">3])</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">1.0</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Pearson correlation coefficient</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">np.corrcoef([1,</span> <span class="pre">2,</span> <span class="pre">3],</span> <span class="pre">[3,</span> <span class="pre">2,</span> <span class="pre">1])</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">array([[</span> <span class="pre">1.,</span> <span class="pre">-1.],</span> <span class="pre">[-1.,</span>&#160; <span class="pre">1.]])</span></code></p></td>
</tr>
</tbody>
</table>
<p><strong>Rounding Functions</strong></p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Calculation</p></th>
<th class="head"><p>NumPy Function</p></th>
<th class="head"><p>Output</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Round to nearest even value</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">np.round(3.6)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">4.0</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Round towards zero</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">np.trunc(-2.8)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-2.0</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Round up towards positive infinity</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">np.ceil(5.4)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">6.0</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Round down towards negative infinity</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">np.floor(4.9)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">4.0</span></code></p></td>
</tr>
</tbody>
</table>
<p><strong>Random Number Generation</strong></p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Calculation</p></th>
<th class="head"><p>NumPy Function</p></th>
<th class="head"><p>Output</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Generate random numbers from [0, 1)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">np.random.rand(5)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">[0.97625072,</span> <span class="pre">0.8556528,</span> <span class="pre">0.18848637,</span> <span class="pre">0.83233422,</span> <span class="pre">0.80931194]</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Generate random integers</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">np.random.randint(1,</span> <span class="pre">10,</span> <span class="pre">3)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">[7,</span> <span class="pre">3,</span> <span class="pre">5]</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Generate random numbers from a normal distribution</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">np.random.randn(2,</span> <span class="pre">2)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">[[-0.06505159,</span>&#160; <span class="pre">0.29853219],</span> <span class="pre">[-0.78611954,</span>&#160; <span class="pre">0.2610972</span> <span class="pre">]]</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Generate random numbers from a uniform distribution</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">np.random.uniform(0,</span> <span class="pre">1,</span> <span class="pre">3)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">[0.5488135</span> <span class="pre">,</span> <span class="pre">0.71518937,</span> <span class="pre">0.60276338]</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Generate random samples from a given 1-D array</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">np.random.choice([1,</span> <span class="pre">2,</span> <span class="pre">3,</span> <span class="pre">4,</span> <span class="pre">5],</span> <span class="pre">3)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">[4,</span> <span class="pre">1,</span> <span class="pre">2]</span></code></p></td>
</tr>
</tbody>
</table>
<p><strong>Differentiation and Integration</strong></p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Calculation</p></th>
<th class="head"><p>NumPy/SciPy Function</p></th>
<th class="head"><p>Output</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Trapezoidal rule integration</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">np.trapz([1,</span> <span class="pre">2,</span> <span class="pre">3])</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">4.0</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Cumulative trapezoidal integration</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">np.cumtrapz([1,</span> <span class="pre">2,</span> <span class="pre">3])</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">[1.5,</span> <span class="pre">3.0,</span> <span class="pre">4.5]</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Adaptive quadrature integration</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">scipy.integrate.quad(func,</span> <span class="pre">0,</span> <span class="pre">1)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">0.78539816,</span> <span class="pre">2.77555756e-14</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Simpson’s rule integration</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">scipy.integrate.simps([1,</span> <span class="pre">2,</span> <span class="pre">3])</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">4.0</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Gradient-based numerical differentiation</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">np.gradient([1,</span> <span class="pre">2,</span> <span class="pre">3])</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">[1.</span> <span class="pre">1.</span> <span class="pre">1.]</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Discrete numerical differentiation</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">np.diff([1,</span> <span class="pre">4,</span> <span class="pre">9,</span> <span class="pre">16])</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">[3,</span> <span class="pre">5,</span> <span class="pre">7]</span></code></p></td>
</tr>
</tbody>
</table>
<p><strong>Matrix Operations</strong></p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Calculation</p></th>
<th class="head"><p>NumPy Function</p></th>
<th class="head"><p>Output</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Permute the dimensions of an array.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">np.transpose([[1,</span> <span class="pre">2],</span> <span class="pre">[3,</span> <span class="pre">4]])</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">array([[1,</span> <span class="pre">3],</span> <span class="pre">[2,</span> <span class="pre">4]])</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Compute the dot product of two arrays.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">np.dot([1,</span> <span class="pre">2],</span> <span class="pre">[3,</span> <span class="pre">4])</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">11</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Perform matrix multiplication.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">np.matmul([[1,</span> <span class="pre">2],</span> <span class="pre">[3,</span> <span class="pre">4]],</span> <span class="pre">[[5,</span> <span class="pre">6],</span> <span class="pre">[7,</span> <span class="pre">8]])</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">array([[19,</span> <span class="pre">22],</span> <span class="pre">[43,</span> <span class="pre">50]])</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Compute the matrix transpose.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">np.transpose([[1,</span> <span class="pre">2],</span> <span class="pre">[3,</span> <span class="pre">4]])</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">array([[1,</span> <span class="pre">3],</span> <span class="pre">[2,</span> <span class="pre">4]])</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Compute the matrix inverse.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">np.linalg.inv([[1,</span> <span class="pre">2],</span> <span class="pre">[3,</span> <span class="pre">4]])</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">array([[-2.</span> <span class="pre">,</span>&#160; <span class="pre">1.</span> <span class="pre">],</span> <span class="pre">[</span> <span class="pre">1.5,</span> <span class="pre">-0.5]])</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Concatenate arrays along a specified axis.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">np.concatenate(([1,</span> <span class="pre">2],</span> <span class="pre">[3,</span> <span class="pre">4]))</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">array([1,</span> <span class="pre">2,</span> <span class="pre">3,</span> <span class="pre">4])</span></code></p></td>
</tr>
</tbody>
</table>
<p><strong>NumPy Constants</strong></p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>NumPy Constants</p></th>
<th class="head"><p>Constant</p></th>
<th class="head"><p>Output</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">np.pi</span></code></p></td>
<td><p>The mathematical constant π (pi)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">3.14159265</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">np.e</span></code></p></td>
<td><p>The mathematical constant e (Euler’s number)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">2.71828183</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">np.inf</span></code></p></td>
<td><p>Positive infinity</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">inf</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">np.nan</span></code></p></td>
<td><p>Not a Number (NaN)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">nan</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">np.NINF</span></code></p></td>
<td><p>Negative infinity</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-inf</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">np.finfo(np.float64).eps</span></code></p></td>
<td><p>Machine epsilon for float64</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">2.220446049250313e-16</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">np.finfo(np.float64).max</span></code></p></td>
<td><p>Maximum representable number in float64</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">1.7976931348623157e+308</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">np.finfo(np.float64).min</span></code></p></td>
<td><p>Minimum positive normal number in float64</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">2.2250738585072014e-308</span></code></p></td>
</tr>
</tbody>
</table>
<p>The above tables showcase some of the calcuations that you can perform with NumPy.</p>
<div class="admonition alert alert-info">
    <p class="admonition-title" style="font-weight:bold">Info</p>
    Check out NumPy's list of mathematical functions <a href=https://numpy.org/doc/stable/reference/routines.math.html>here</a>!
</div><p><strong>Test your understanding</strong></p>
<p>Complete the code below</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Generate Two NumPy arrays</span>
<span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">])</span>
<span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">])</span>  <span class="c1">#Anlge in degrees</span>

<span class="c1"># B/A</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#sqrt(A)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#log(A)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># sin(B)</span>
<span class="c1"># Use `np.sin?` to check if angle in degrees or radians</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Try np.sin? or help(np.sin)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="numpy-methods">
<h3>5.3 NumPy methods<a class="headerlink" href="#numpy-methods" title="Link to this heading">#</a></h3>
<p>In addition to the general functions above,  NumPy arrays have a variety methods to perform operations on the arrays.</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Description</p></th>
<th class="head"><p>Method</p></th>
<th class="head"><p>Output</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Calculate the sum of array elements.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">a.sum([1,</span> <span class="pre">2,</span> <span class="pre">3])</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">6</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Compute the arithmetic mean along the specified axis.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">a.mean([1,</span> <span class="pre">2,</span> <span class="pre">3])</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">2.0</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Find the minimum value in an array.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">a.min([1,</span> <span class="pre">2,</span> <span class="pre">3])</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">1</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Find the maximum value in an array.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">a.max([1,</span> <span class="pre">2,</span> <span class="pre">3])</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">3</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Find the index of the minimum value in an array.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">a.argmin([1,</span> <span class="pre">2,</span> <span class="pre">3])</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Find the index of the maximum value in an array.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">a.argmax([1,</span> <span class="pre">2,</span> <span class="pre">3])</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">2</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Return a sorted copy of an array.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">a.sort([3,</span> <span class="pre">1,</span> <span class="pre">2])</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">array([1,</span> <span class="pre">2,</span> <span class="pre">3])</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Reshape the array into a new shape.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">a.reshape([1,</span> <span class="pre">2,</span> <span class="pre">3],</span> <span class="pre">(3,</span> <span class="pre">1))</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">array([[1],</span> <span class="pre">[2],</span> <span class="pre">[3]])</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Find the unique elements of an array.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">a.unique([1,</span> <span class="pre">2,</span> <span class="pre">2,</span> <span class="pre">3])</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">array([1,</span> <span class="pre">2,</span> <span class="pre">3])</span></code></p></td>
</tr>
</tbody>
</table>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Generate Two NumPy arrays</span>
<span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">]])</span>  

<span class="c1"># Use a .max method to find max of array A</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Reshape A from 2x5 array to 5x2 array</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="perform-operation-along-a-specific-dimesion">
<h3>5.4 Perform operation along a specific dimesion<a class="headerlink" href="#perform-operation-along-a-specific-dimesion" title="Link to this heading">#</a></h3>
<p>Many functions like <code class="docutils literal notranslate"><span class="pre">np.sum(axis=)</span></code>, <code class="docutils literal notranslate"><span class="pre">np.mean(axis=)</span></code>, <code class="docutils literal notranslate"><span class="pre">np.max(axis=)</span></code>, etc., are commonly used for performing operations along a specific dimension in NumPy arrays. For example:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">np.sum(arr,</span> <span class="pre">axis=0)</span></code> calculates the sum along axis 0, summing elements vertically.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">np.mean(arr,</span> <span class="pre">axis=1)</span></code> calculates the mean along axis 1, computing the mean horizontally.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">np.max(arr,</span> <span class="pre">axis=0)</span></code> finds the maximum value along axis 0.</p></li>
</ul>
<p>and so on.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Generate a 2d NumPy array</span>
<span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span> 
              <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">]])</span>

<span class="c1"># Calculate the mean of each column in array A (across rows)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Mean of each column:&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">mean_of_each_column</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Calculate the mean of each row in array A (across columns)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Mean of each row:&quot;</span><span class="p">)</span>
<span class="n">mean_of_each_row</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">mean_of_each_row</span><span class="p">)</span>

<span class="c1"># Find the maximum value in each row of array A</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Maximum value in each row:&quot;</span><span class="p">)</span>
<span class="n">max_value_in_each_row</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">max_value_in_each_row</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="apply-a-function-to-a-numpy-array-optional">
<h3>5.5 Apply a function to a NumPy Array (<em>optional</em>)<a class="headerlink" href="#apply-a-function-to-a-numpy-array-optional" title="Link to this heading">#</a></h3>
<p>To apply a function to a NumPy array, you can use NumPy’s <code class="docutils literal notranslate"><span class="pre">vectorize</span></code> function. Here is the general syntax:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Apply the function element-wise to the array</span>
<span class="n">result_arr</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
</pre></div>
</div>
<p>Here’s an example of applying a function to convert temperatures from Fahrenheit to Celsius using a NumPy array:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Define the function to convert Fahrenheit to Celsius</span>
<span class="k">def</span> <span class="nf">fahrenheit_to_celsius</span><span class="p">(</span><span class="n">f</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">f</span> <span class="o">-</span> <span class="mi">32</span><span class="p">)</span> <span class="o">*</span> <span class="mi">5</span><span class="o">/</span><span class="mi">9</span>

<span class="c1"># Create a NumPy array of temperatures in Fahrenheit</span>
<span class="n">temps_fahrenheit</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">32</span><span class="p">,</span> <span class="mi">68</span><span class="p">,</span> <span class="mi">86</span><span class="p">,</span> <span class="mi">104</span><span class="p">])</span>

<span class="c1"># Apply the conversion function element-wise to the array</span>
<span class="n">temps_celsius</span> <span class="o">=</span> <span class="n">fahrenheit_to_celsius</span><span class="p">(</span><span class="n">temps_fahrenheit</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">temps_celsius</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="example-advanced">
<h3>5.6 Example (<em>advanced</em>)<a class="headerlink" href="#example-advanced" title="Link to this heading">#</a></h3>
<p>Let us calculate temperature advection using the formula:
$<span class="math notranslate nohighlight">\(
\text{advection} = -\vec{v} \cdot \nabla T
\)</span>$
where</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(\vec{v}\)</span> is the velocity vector</p></li>
<li><p><span class="math notranslate nohighlight">\(\nabla T\)</span> represents the temperature gradient</p></li>
</ul>
<p>The dot product of the velocity vector and the temperature gradient gives the temperature advection. If you’re not familiar with the advection dispersion equation, do not worry, and you can just look at how we apply some NumPy functions.</p>
<p>We’ll start with some random <span class="math notranslate nohighlight">\(T\)</span> and <span class="math notranslate nohighlight">\(\vec{v}\)</span> values</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Generate random temperature (T) and velocity components (u, v)</span>
<span class="n">temp</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>  <span class="c1"># Random temperature values in a 100x50 array</span>
<span class="n">u</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>     <span class="c1"># Random u component of velocity in a 100x50 array</span>
<span class="n">v</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>     <span class="c1"># Random v component of velocity in a 100x50 array</span>
</pre></div>
</div>
</div>
</div>
<p>We can calculate the <code class="docutils literal notranslate"><span class="pre">np.gradient</span></code> of our new <span class="math notranslate nohighlight">\(T(100x50)\)</span> field as two separate component gradients,</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">gradient_x</span><span class="p">,</span> <span class="n">gradient_y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">gradient</span><span class="p">(</span><span class="n">temp</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>In order to calculate <span class="math notranslate nohighlight">\(-\vec{v} \cdot \nabla T\)</span>, we will use <code class="docutils literal notranslate"><span class="pre">np.dstack</span></code> to turn our two separate component gradient fields into one multidimensional field containing <span class="math notranslate nohighlight">\(x\)</span> and <span class="math notranslate nohighlight">\(y\)</span> gradients at each of our <span class="math notranslate nohighlight">\(100x50\)</span> points,</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">grad_vectors</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dstack</span><span class="p">([</span><span class="n">gradient_x</span><span class="p">,</span> <span class="n">gradient_y</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">grad_vectors</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>and then do the same for our separate <span class="math notranslate nohighlight">\(u\)</span> and <span class="math notranslate nohighlight">\(v\)</span> wind components,</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">wind_vectors</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dstack</span><span class="p">([</span><span class="n">u</span><span class="p">,</span> <span class="n">v</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">wind_vectors</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Finally, we can calculate the dot product of these two multidimensional fields of wind and temperature gradient components as an element-wise multiplication, <code class="docutils literal notranslate"><span class="pre">*</span></code>, and then a <code class="docutils literal notranslate"><span class="pre">sum</span></code> of our separate components at each point (i.e., along the last <code class="docutils literal notranslate"><span class="pre">axis</span></code>),</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">advection</span> <span class="o">=</span> <span class="p">(</span><span class="n">wind_vectors</span> <span class="o">*</span> <span class="o">-</span><span class="n">grad_vectors</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">advection</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="indexing-and-subsetting-arrays">
<h2>6. Indexing and subsetting arrays<a class="headerlink" href="#indexing-and-subsetting-arrays" title="Link to this heading">#</a></h2>
<section id="indexing">
<h3>6.1 Indexing<a class="headerlink" href="#indexing" title="Link to this heading">#</a></h3>
<p>We can use integer indexing to reach into our arrays and pull out individual elements. Let’s make a toy 2-d array to explore. Here we create a 12-value <code class="docutils literal notranslate"><span class="pre">arange</span></code> and <code class="docutils literal notranslate"><span class="pre">reshape</span></code> it into a 3x4 array.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="n">a</span>
</pre></div>
</div>
</div>
</div>
<p>NumPy uses row-major order for indexing, storing elements row by row in memory. So, accessing the first row of a NumPy array would be <code class="docutils literal notranslate"><span class="pre">a[0]</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p>Similarly, to pull out the last <em>row</em> we can index in reverse with negative indices,</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p>We can do this for multiple dimensions. For example, <code class="docutils literal notranslate"><span class="pre">a[1,2]</span></code> will pull out the 2nd row and the 3rd column in array <code class="docutils literal notranslate"><span class="pre">a</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p>We can again use these negative indices to index backwards,</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p>and even mix-and-match along dimensions,</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="slicing">
<h3>6.2 Slicing<a class="headerlink" href="#slicing" title="Link to this heading">#</a></h3>
<p>Slicing syntax is written as <code class="docutils literal notranslate"><span class="pre">array[start:stop[:step]]</span></code>, where <strong>all numbers are optional</strong>.</p>
<ul class="simple">
<li><p>defaults:</p>
<ul>
<li><p>start = 0</p></li>
<li><p>stop = len(dim)</p></li>
<li><p>step = 1</p></li>
</ul>
</li>
<li><p>The second colon is <strong>also optional</strong> if no step is used.</p></li>
</ul>
<p>Let’s pull out just the first row, <code class="docutils literal notranslate"><span class="pre">m=0</span></code> of <code class="docutils literal notranslate"><span class="pre">a</span></code> and see how this works!</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 2x6 2d array a</span>
<span class="n">a</span> <span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">60</span><span class="p">],</span>
             <span class="p">[</span><span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">300</span><span class="p">,</span> <span class="mi">400</span><span class="p">,</span> <span class="mi">500</span><span class="p">,</span> <span class="mi">600</span><span class="p">]])</span>
</pre></div>
</div>
</div>
</div>
<p>In Python, the colon <code class="docutils literal notranslate"><span class="pre">:</span></code> is commonly used in slicing operations for sequences like DataFrames, NumPy arrays, lists, tuples, and strings. For example, in NumPy, the colon <code class="docutils literal notranslate"><span class="pre">:</span></code> allows for slicing of NumPy arrays along different elements and dimensions.</p>
<p>For example, for a 1D array <code class="docutils literal notranslate"><span class="pre">a</span></code>:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">a[:]</span></code> would select all elements of array <code class="docutils literal notranslate"><span class="pre">a</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">a[1:4]</span></code> would select elements from index 1 to index 4 (exclusive).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">a[2:]</span></code> would select elements starting from index 2 to the end of the array.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">a[:3]</span></code> would select elements from the beginning up to index 3 (exclusive).</p></li>
</ul>
<p>For a 2D array <code class="docutils literal notranslate"><span class="pre">a</span></code>:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">a[:,</span> <span class="pre">:]</span></code> would select all elements of array <code class="docutils literal notranslate"><span class="pre">a</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">a[1:4,</span> <span class="pre">:]</span></code> would select rows from index 1 to index 4 (exclusive) and all columns.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">a[2:,</span> <span class="pre">:]</span></code> would select rows starting from index 2 to the end and all columns.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">a[:3,</span> <span class="pre">:]</span></code> would select rows from the beginning up to index 3 (exclusive) and all columns.</p></li>
</ul>
<p>Let us try few examples</p>
<div class="admonition alert alert-warning">
    <p class="admonition-title" style="font-weight:bold">Warning</p>
    Slice notation is <b>exclusive</b> of the final index.
</div><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 2x6 2d array a</span>
<span class="n">a</span> <span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">60</span><span class="p">],</span>
             <span class="p">[</span><span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">300</span><span class="p">,</span> <span class="mi">400</span><span class="p">,</span> <span class="mi">500</span><span class="p">,</span> <span class="mi">600</span><span class="p">]])</span>

<span class="n">a</span><span class="p">[:,</span><span class="mi">2</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 2x6 2d array a</span>
<span class="n">a</span> <span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">60</span><span class="p">],</span>
             <span class="p">[</span><span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">300</span><span class="p">,</span> <span class="mi">400</span><span class="p">,</span> <span class="mi">500</span><span class="p">,</span> <span class="mi">600</span><span class="p">]])</span>

<span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">:]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 2x6 2d array a</span>
<span class="n">a</span> <span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">60</span><span class="p">],</span>
             <span class="p">[</span><span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">300</span><span class="p">,</span> <span class="mi">400</span><span class="p">,</span> <span class="mi">500</span><span class="p">,</span> <span class="mi">600</span><span class="p">]])</span>

<span class="n">a</span><span class="p">[:,</span><span class="mi">2</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 2x6 2d array a</span>
<span class="n">a</span> <span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">60</span><span class="p">],</span>
             <span class="p">[</span><span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">300</span><span class="p">,</span> <span class="mi">400</span><span class="p">,</span> <span class="mi">500</span><span class="p">,</span> <span class="mi">600</span><span class="p">]])</span>

<span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="indexing-arrays-with-boolean-values">
<h3>6.3 Indexing arrays with boolean values<a class="headerlink" href="#indexing-arrays-with-boolean-values" title="Link to this heading">#</a></h3>
<section id="array-comparisons">
<h4>6.3.1 Array comparisons<a class="headerlink" href="#array-comparisons" title="Link to this heading">#</a></h4>
<p>NumPy can easily create arrays of Boolean values and use those to select certain values to extract from an array</p>
<p>We want to create two datasets:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">pre_data</span></code> for  one year before lockdown</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">post_data</span></code> for data one year after lockdown</p></li>
</ul>
<p>By doing a comparison between a NumPy array and a value, we get an array of values representing the results of the comparison between each element and the value.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Define date ranges</span>
<span class="n">lockdown_start</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;2020-04-01&#39;</span><span class="p">)</span>
<span class="n">one_year_before</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;2019-04-01&#39;</span><span class="p">)</span>
<span class="n">one_year_after</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;2021-04-01&#39;</span><span class="p">)</span>

<span class="c1">#Original data</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Original data:&quot;</span><span class="p">,</span> <span class="n">data_read_csv</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">data_read_csv</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="c1"># Filter the NumPy array based on the date range for pre-covid19 data</span>
<span class="n">mask</span> <span class="o">=</span> <span class="p">(</span><span class="n">data_read_csv</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">one_year_before</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">data_read_csv</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">lockdown_start</span><span class="p">)</span>
<span class="n">pre_data</span> <span class="o">=</span> <span class="n">data_read_csv</span><span class="p">[</span><span class="n">mask</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Pre data:&quot;</span><span class="p">,</span> <span class="n">pre_data</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">pre_data</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="c1"># Filter the NumPy array based on the date range for post-covid19 data</span>
<span class="n">mask</span> <span class="o">=</span> <span class="p">(</span><span class="n">data_read_csv</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">lockdown_start</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">data_read_csv</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">one_year_after</span><span class="p">)</span>
<span class="n">post_data</span> <span class="o">=</span> <span class="n">data_read_csv</span><span class="p">[</span><span class="n">mask</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Post data:&quot;</span><span class="p">,</span> <span class="n">post_data</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">post_data</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="admonition alert alert-warning">
    <p class="admonition-title" style="font-weight:bold">Warning</p>
    Indexing arrays with arrays requires them to be the same size!
</div><p>We can plot pre and post data using <code class="docutils literal notranslate"><span class="pre">plt.plot(x,y)</span></code>.</p>
</section>
<section id="replacing-values-with-indexing">
<h4>6.3.2 Replacing values with indexing<a class="headerlink" href="#replacing-values-with-indexing" title="Link to this heading">#</a></h4>
<p>We can use this conditional indexing to <em>assign</em> new values to certain positions within our array, somewhat like a masking operation.</p>
<p>For example, replace negative numbers with 0.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Wind speed array where -ve value is measurement error </span>
<span class="n">wind_speed</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.1</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="mi">10</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<p>Another bitwise operator we can find helpful is Python’s <code class="docutils literal notranslate"><span class="pre">~</span></code> complement operator, which can give us the <strong>inverse</strong> of our specific mask to every value <em>not</em> satisfied</p>
<p>For example, with some cleverness we can remove both nan and negative numbers with the <code class="docutils literal notranslate"><span class="pre">~</span></code></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Wind speed array where -ve value is measurement error </span>
<span class="n">wind_speed</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.1</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="mi">10</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="cleaning-data-replacing-nan-with-np-nan-to-num">
<h4>6.3.3 Cleaning data: Replacing NaN with <code class="docutils literal notranslate"><span class="pre">np.nan_to_num</span></code><a class="headerlink" href="#cleaning-data-replacing-nan-with-np-nan-to-num" title="Link to this heading">#</a></h4>
<p>Replacing NaN with zero or the mean value can be done using <code class="docutils literal notranslate"><span class="pre">np.nan_to_num</span></code>.</p>
<p>For example, replace the NaN value the with mean of the dataset:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Make a copy so we don&#39;t modify the original data</span>
<span class="n">wind_speed</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.1</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="mi">10</span><span class="p">])</span>

<span class="c1"># Replace all places with NaN to the mean value of data</span>
<span class="n">wind_speed_clean</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan_to_num</span><span class="p">(</span><span class="n">wind_speed</span><span class="p">,</span> <span class="n">nan</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">nanmean</span><span class="p">(</span><span class="n">wind_speed</span><span class="p">))</span>

<span class="c1">#Display wind speed without NaN</span>
<span class="n">wind_speed_clean</span>
</pre></div>
</div>
</div>
</div>
<p>In the example above, <code class="docutils literal notranslate"><span class="pre">np.nanmean</span></code> is used instead of <code class="docutils literal notranslate"><span class="pre">np.mean</span></code> to handle datasets with NaN values, as the mean of a dataset containing NaN values is NaN.</p>
<div class="admonition alert alert-warning">
    <p class="admonition-title" style="font-weight:bold">Warning</p>
Replacing NaN values should be done carefully and transparently to maintain analysis integrity. These replacements have the potential to change data distribution, skew results, and introduce statistical biases, possibly leading to information loss if NaN values were meaningful. Before substituting NaN values, it's advisable to explore alternative strategies such as imputation, elimination of NaN-containing rows/columns, or utilizing advanced methods that suit the data and analysis requirements.
</div></section>
<section id="cleaning-data-remove-rows-with-nan">
<h4>6.3.4 Cleaning data: Remove rows with NaN<a class="headerlink" href="#cleaning-data-remove-rows-with-nan" title="Link to this heading">#</a></h4>
<p>Another approach for dealing with NaN is to remove rows with NaNs. You can use the <code class="docutils literal notranslate"><span class="pre">np.isnan</span></code> function to find elements with NaN values along rows and columns with the logical function <code class="docutils literal notranslate"><span class="pre">any</span></code>.</p>
<p>Here is an example:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># A 2D array with NaN values</span>
<span class="n">values</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
                 <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span>
                 <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]])</span>

<span class="c1"># Find rows with NaN values</span>
<span class="n">nan_rows</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">values</span><span class="p">),</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span> 


<span class="c1"># Remove rows with NaN values</span>
<span class="n">values_cleaned</span> <span class="o">=</span> <span class="n">values</span><span class="p">[</span><span class="o">~</span><span class="n">nan_rows</span><span class="p">]</span>

<span class="n">values_cleaned</span>
</pre></div>
</div>
</div>
</div>
<p>The code <code class="docutils literal notranslate"><span class="pre">np.any(np.isnan(values),</span> <span class="pre">axis=1)</span></code> identifies rows in a 2D array with NaN values:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">np.isnan(values)</span></code> creates a boolean mask for NaN in <code class="docutils literal notranslate"><span class="pre">values</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">np.any(...,</span> <span class="pre">axis=1)</span></code> checks each row for NaN, such that if any value in the row is NaN (i.e. True) it turns True, otherwise it returns False</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nan_rows</span></code> shows rows with NaN in <code class="docutils literal notranslate"><span class="pre">values</span></code></p></li>
<li><p>Once we know the rows with NaN, we can keep the rows without NaN using the not <code class="docutils literal notranslate"><span class="pre">~</span></code> operator.</p></li>
</ul>
<p>This operation helps handle missing data in datasets to avoid calculation errors. After cleaning, 8 rows were removed.</p>
</section>
<section id="cleaning-data-remove-rows-with-nan-for-mixed-data-array">
<h4>6.3.5 Cleaning data: Remove rows with NaN for mixed data array<a class="headerlink" href="#cleaning-data-remove-rows-with-nan-for-mixed-data-array" title="Link to this heading">#</a></h4>
<p>Many of the NumPy functions such <code class="docutils literal notranslate"><span class="pre">isnan</span></code> is not directly supported on arrays that contain a mix of datetimes and floats such as the <code class="docutils literal notranslate"><span class="pre">data</span></code> array below. To address this issue, we can create a mask for NaN values for one data type (e.g., float columns) and use this mask to remove NaN rows from <code class="docutils literal notranslate"><span class="pre">data</span></code>, <code class="docutils literal notranslate"><span class="pre">dates</span></code>, and <code class="docutils literal notranslate"><span class="pre">values</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Read csv file to NumPy array</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/aqi_data_Miami.csv&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()</span> <span class="c1">#Read csv file as np array</span>
<span class="n">data</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">data</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">])</span> <span class="c1"># Convert 1st column to datetime</span>
<span class="n">dates</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">data</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">datetime64</span><span class="p">)</span> <span class="c1"># Extract dates</span>
<span class="n">values</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">data</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">:],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">)</span> <span class="c1"># Extract number </span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Original data shape: data&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> 
      <span class="s2">&quot;dates&quot;</span><span class="p">,</span> <span class="n">dates</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span><span class="s2">&quot;values&quot;</span><span class="p">,</span> <span class="n">values</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>

<span class="c1">#Remove NaNs</span>
<span class="n">nan_rows</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">values</span><span class="p">),</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span> <span class="c1"># Find rows with NaN values in float columns</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="o">~</span><span class="n">nan_rows</span><span class="p">]</span> <span class="c1"># Remove rows with NaN values</span>
<span class="n">dates</span> <span class="o">=</span> <span class="n">dates</span><span class="p">[</span><span class="o">~</span><span class="n">nan_rows</span><span class="p">]</span> <span class="c1"># Remove rows with NaN values</span>
<span class="n">values</span> <span class="o">=</span> <span class="n">values</span><span class="p">[</span><span class="o">~</span><span class="n">nan_rows</span><span class="p">]</span> <span class="c1"># Remove rows with NaN values</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Cleaned data shape: data&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> 
      <span class="s2">&quot;dates&quot;</span><span class="p">,</span> <span class="n">dates</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span><span class="s2">&quot;values&quot;</span><span class="p">,</span> <span class="n">values</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="indexing-using-arrays-of-indices-optional">
<h4>6.3.6 Indexing using arrays of indices (<em>optional</em>)<a class="headerlink" href="#indexing-using-arrays-of-indices-optional" title="Link to this heading">#</a></h4>
<p>You can also use a list or array of indices to extract particular values–this is a natural extension of the regular indexing. For instance, just as we can select the first element:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 2x6 2d array a</span>
<span class="n">temp</span> <span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">101</span><span class="p">,</span> <span class="mi">98</span><span class="p">,</span> <span class="mi">88</span><span class="p">,</span> <span class="mi">97</span><span class="p">,</span> <span class="mi">96</span><span class="p">,</span> <span class="mi">98</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<p>We can also extract the first, third, and last elements</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temp</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span>
</pre></div>
</div>
</div>
</div>
<p>One of the ways this comes into play is trying to sort NumPy arrays using <code class="docutils literal notranslate"><span class="pre">argsort</span></code>. This function returns the indices of the array that give the items in sorted order. So for our <code class="docutils literal notranslate"><span class="pre">temp</span></code>,</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">inds</span> <span class="o">=</span> <span class="n">temp</span><span class="o">.</span><span class="n">argsort</span><span class="p">()</span>
<span class="n">inds</span>
</pre></div>
</div>
</div>
</div>
<p>i.e., our lowest value is at index <code class="docutils literal notranslate"><span class="pre">2</span></code>, next <code class="docutils literal notranslate"><span class="pre">4</span></code>, and so on. We can use this array of indices as an index for <code class="docutils literal notranslate"><span class="pre">temp</span></code>,</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">temp</span><span class="p">[</span><span class="n">inds</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p>to get a sorted array back!</p>
<p>With some clever slicing, we can pull out the last 3, or 103highest, values of <code class="docutils literal notranslate"><span class="pre">temp</span></code>,</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">three_highest</span> <span class="o">=</span> <span class="n">inds</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">:]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">temp</span><span class="p">[</span><span class="n">three_highest</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<p>There are other NumPy <code class="docutils literal notranslate"><span class="pre">arg</span></code> methods that return indices for operating; check out the <a class="reference external" href="https://numpy.org/doc/stable/reference/routines.sort.html">NumPy docs</a> on sorting your arrays!</p>
</section>
</section>
</section>
<section id="loop-through-an-numpy-array">
<h2>7. Loop through an NumPy array<a class="headerlink" href="#loop-through-an-numpy-array" title="Link to this heading">#</a></h2>
<section id="loop-through-elements">
<h3>7.1 Loop through elements<a class="headerlink" href="#loop-through-elements" title="Link to this heading">#</a></h3>
<p>To loop through elements of a 2D NumPy array, you can use nested loops similar to looping in nested lists. This enables iterating over each row in the 2D array and then iterating through each element within that row.</p>
<p>Here is an example:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">],[</span><span class="mi">40</span><span class="p">,</span> <span class="mi">50</span><span class="p">],</span> <span class="p">[</span><span class="mi">70</span><span class="p">,</span> <span class="mi">80</span><span class="p">]])</span>

<span class="k">for</span> <span class="n">row_values</span> <span class="ow">in</span> <span class="n">a</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">element_value</span> <span class="ow">in</span> <span class="n">row_values</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">element_value</span><span class="p">)</span>
        
</pre></div>
</div>
</div>
</div>
</section>
<section id="loop-with-index">
<h3>7.2 Loop with index<a class="headerlink" href="#loop-with-index" title="Link to this heading">#</a></h3>
<p>You can loop with an index in case you want to use the index.</p>
<p>This is a MATLAB style:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">],[</span><span class="mi">40</span><span class="p">,</span> <span class="mi">50</span><span class="p">],</span> <span class="p">[</span><span class="mi">70</span><span class="p">,</span> <span class="mi">80</span><span class="p">]])</span>

<span class="k">for</span> <span class="n">row_index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
    <span class="k">for</span> <span class="n">col_index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]):</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">row_index</span><span class="p">,</span><span class="n">col_index</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">row_index</span><span class="p">,</span><span class="n">col_index</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<p>This is the MATLAB code in case you are wondering:</p>
<div class="highlight-MATLAB notranslate"><div class="highlight"><pre><span></span><span class="c">% This is MATLAB, not Python </span>
<span class="n">a</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[</span><span class="mi">10</span><span class="w"> </span><span class="mi">20</span><span class="p">;</span><span class="w"> </span><span class="n">40</span><span class="w"> </span><span class="s">50</span><span class="p">;</span><span class="w"> </span><span class="n">70</span><span class="w"> </span><span class="s">80]</span><span class="p">;</span>

<span class="k">for</span><span class="w"> </span><span class="n">row_index</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">1</span><span class="p">:</span><span class="nb">size</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">col_index</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">1</span><span class="p">:</span><span class="nb">size</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>
<span class="w">        </span><span class="nb">disp</span><span class="p">([</span><span class="n">row_index</span><span class="p">,</span><span class="w"> </span><span class="n">col_index</span><span class="p">])</span>
<span class="w">        </span><span class="nb">disp</span><span class="p">(</span><span class="n">a</span><span class="p">(</span><span class="n">row_index</span><span class="p">,</span><span class="w"> </span><span class="n">col_index</span><span class="p">))</span>
<span class="w">    </span><span class="k">end</span>
<span class="k">end</span>
</pre></div>
</div>
<p>This is not very different from NumPy!</p>
<p>This is a Python style Using the <code class="docutils literal notranslate"><span class="pre">enumerate</span></code> that provides both the index and the value of elements in a sequence during iteration.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Values</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">50</span><span class="p">])</span>

<span class="c1"># Using enumerate to loop over the array elements with their index</span>
<span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">Value</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">Values</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Index:&quot;</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="s2">&quot;Value:&quot;</span><span class="p">,</span> <span class="n">Value</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Here is another example with two 2d NumPy arrays.  The outer loop iterates over rows of two NumPy arrays <code class="docutils literal notranslate"><span class="pre">array_a</span></code> and <code class="docutils literal notranslate"><span class="pre">array_b</span></code>, while the inner loop iterates over corresponding elements in each row.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a_array</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">],</span> <span class="p">[</span><span class="mi">40</span><span class="p">,</span> <span class="mi">50</span><span class="p">],</span> <span class="p">[</span><span class="mi">70</span><span class="p">,</span> <span class="mi">80</span><span class="p">]])</span>
<span class="n">b_array</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">],</span> <span class="p">[</span><span class="mi">400</span><span class="p">,</span> <span class="mi">500</span><span class="p">],</span> <span class="p">[</span><span class="mi">700</span><span class="p">,</span> <span class="mi">800</span><span class="p">]])</span>

<span class="k">for</span> <span class="n">row_index</span><span class="p">,</span> <span class="p">(</span><span class="n">a_row_values</span><span class="p">,</span> <span class="n">b_row_values</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">a_array</span><span class="p">,</span> <span class="n">b_array</span><span class="p">)):</span>
    <span class="k">for</span> <span class="n">col_index</span><span class="p">,</span> <span class="p">(</span><span class="n">a_value</span><span class="p">,</span> <span class="n">b_value</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">a_row_values</span><span class="p">,</span> <span class="n">b_row_values</span><span class="p">)):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Row Index:&quot;</span><span class="p">,</span> <span class="n">row_index</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Column Index:&quot;</span><span class="p">,</span> <span class="n">col_index</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Sum of elements:&quot;</span><span class="p">,</span> <span class="n">a_value</span> <span class="o">+</span> <span class="n">b_value</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="loop-with-index-using-np-ndindex">
<h3>7.3 Loop with index using <code class="docutils literal notranslate"><span class="pre">np.ndindex</span></code><a class="headerlink" href="#loop-with-index-using-np-ndindex" title="Link to this heading">#</a></h3>
<p>When you have a multidimensional array and you want to iterate over all the indices of the array, <code class="docutils literal notranslate"><span class="pre">np.ndindex</span></code> comes in handy. It generates an iterator that produces tuples of indices that can be used to access elements of the array in a nested loop structure.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
                 <span class="p">[</span><span class="mi">40</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">60</span><span class="p">]])</span>

<span class="c1"># Iterate over all indices of the array using np.ndindex</span>
<span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">ndindex</span><span class="p">(</span><span class="n">arr</span><span class="o">.</span><span class="n">shape</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Index: </span><span class="si">{</span><span class="n">idx</span><span class="si">}</span><span class="s2">, Value: </span><span class="si">{</span><span class="n">arr</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="admonition alert alert-info">
    <p class="admonition-title" style="font-weight:bold">Info</p>
The Python built-in function <code>enumerate</code> returns an iterator yielding pairs of index and value for each element in an iterable, allowing for easy access to both the index and the value during iteration.
</div></section>
</section>
<section id="broadcasting-advanced">
<h2>8. Broadcasting (<em>advanced</em>)<a class="headerlink" href="#broadcasting-advanced" title="Link to this heading">#</a></h2>
<p>Broadcasting in NumPy is a powerful mechanism that allows arrays of different shapes to be operated together. The smaller array is “broadcast” across the larger array so that they have compatible shapes for element-wise operations.</p>
<p>For example, when you add a 1D array to a 2D array, NumPy will automatically broadcast the 1D array to the shape of the 2D array to perform the addition element-wise.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>  <span class="c1"># 1D array shape (3,)</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]])</span>  <span class="c1"># 2D array shape (2, 3)</span>

<span class="c1"># Perform broadcasting</span>
<span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
</pre></div>
</div>
</div>
</div>
<p>To broadcast arrays <code class="docutils literal notranslate"><span class="pre">a</span></code> and <code class="docutils literal notranslate"><span class="pre">b</span></code> in NumPy, arrays should have compatible shapes for broadcasting. If <code class="docutils literal notranslate"><span class="pre">a</span></code> has shape (3,) and <code class="docutils literal notranslate"><span class="pre">b</span></code> has shape (4,), then we need to reshape <code class="docutils literal notranslate"><span class="pre">a</span></code> to be a column vector (2D array). Then NumPy will automatically broadcast the 1D array <code class="docutils literal notranslate"><span class="pre">b</span></code> to the shape of the 2D array <code class="docutils literal notranslate"><span class="pre">a</span></code> to perform the addition element-wise similar to the previous example.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>   <span class="c1">#  1D array shape (3,)</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">])</span> <span class="c1"># 1D array shape (4,)</span>

<span class="c1"># Reshape &#39;a&#39; from row vector (1D shape) to column vector (2D shape)</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">a</span><span class="p">[:,</span> <span class="n">np</span><span class="o">.</span><span class="n">newaxis</span><span class="p">]</span>  <span class="c1"># 2d array shape (3, 1)</span>

<span class="c1"># Perform broadcasting</span>
<span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="write-numpy-arrays-to-a-file">
<h2>9. Write NumPy arrays to a file<a class="headerlink" href="#write-numpy-arrays-to-a-file" title="Link to this heading">#</a></h2>
<p>Writing a NumPy array to a:</p>
<ul class="simple">
<li><p>csv file using <code class="docutils literal notranslate"><span class="pre">np.savetxt()</span></code> offers easy readability and compatibility with various programs</p></li>
<li><p>npy file with <code class="docutils literal notranslate"><span class="pre">np.save()</span></code> offers faster read and write times and the ability to preserve array-specific properties like shape and dtype</p></li>
</ul>
<section id="write-numpy-arrays-to-csv-files">
<h3>9.1 Write NumPy arrays to csv files<a class="headerlink" href="#write-numpy-arrays-to-csv-files" title="Link to this heading">#</a></h3>
<p>To write a NumPy array to a CSV file, you can use <code class="docutils literal notranslate"><span class="pre">np.savetxt()</span></code> function. For example, using</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">savetxt</span><span class="p">(</span><span class="s1">&#39;output.csv&#39;</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>is a convenient way to save NumPy arrays to csv files with specified delimiters.</p>
</section>
<section id="write-numpy-arrays-to-npy-files">
<h3>9.2 Write NumPy arrays to npy files<a class="headerlink" href="#write-numpy-arrays-to-npy-files" title="Link to this heading">#</a></h3>
<p>To write a NumPy array to a NPY file, you can use <code class="docutils literal notranslate"><span class="pre">np.save()</span></code> function. For example, using</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;output.npy&#39;</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">allow_pickle</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>is an efficient way to save NumPy array to npy file, preserving array data in a binary format.</p>
<p>When dealing with arrays containing mixed data types like floats and datetimes, you can simplify the saving process by using <code class="docutils literal notranslate"><span class="pre">np.save</span></code> with <code class="docutils literal notranslate"><span class="pre">allow_pickle=True</span></code>. This parameter allows you to save and load the array without converting it to a structured array.</p>
<p>Here is an example,</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Display data before saving</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;data:&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">.</span><span class="n">dtype</span><span class="p">,</span> <span class="n">data</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;dates:&quot;</span><span class="p">,</span> <span class="n">dates</span><span class="o">.</span><span class="n">dtype</span><span class="p">,</span> <span class="n">dates</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">dates</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;values:&quot;</span><span class="p">,</span> <span class="n">values</span><span class="o">.</span><span class="n">dtype</span><span class="p">,</span> <span class="n">values</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

<span class="c1"># Save the data arrays to a file </span>
<span class="n">np</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;data/data.npy&#39;</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">allow_pickle</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="c1">#Mixed data types (datetime and float)</span>
<span class="n">np</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;data/dates.npy&#39;</span><span class="p">,</span> <span class="n">dates</span><span class="p">)</span> <span class="c1">#Data type datetime </span>
<span class="n">np</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;data/values.npy&#39;</span><span class="p">,</span> <span class="n">values</span><span class="p">)</span> <span class="c1">#Data type float</span>
</pre></div>
</div>
</div>
</div>
<p>To load the array saved with <code class="docutils literal notranslate"><span class="pre">allow_pickle=True</span></code>, you can use <code class="docutils literal notranslate"><span class="pre">np.load</span></code> with the same parameter set to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Load the array from the saved file with allow_pickle=True</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;data/data.npy&#39;</span><span class="p">,</span> <span class="n">allow_pickle</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="c1">#Mixed data types (datetime and float)</span>
<span class="n">dates</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;data/dates.npy&#39;</span><span class="p">)</span> <span class="c1">#Data type datetime </span>
<span class="n">values</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;data/values.npy&#39;</span><span class="p">)</span> <span class="c1">#Data type float</span>

<span class="c1"># Display data after loading</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;data:&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">.</span><span class="n">dtype</span><span class="p">,</span> <span class="n">data</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;dates:&quot;</span><span class="p">,</span> <span class="n">dates</span><span class="o">.</span><span class="n">dtype</span><span class="p">,</span> <span class="n">dates</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">dates</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;values:&quot;</span><span class="p">,</span> <span class="n">values</span><span class="o">.</span><span class="n">dtype</span><span class="p">,</span> <span class="n">values</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="admonition alert alert-info">
    <p class="admonition-title" style="font-weight:bold">Info</p>
    <code>np.load()</code> in NumPy has an <code>allow_pickle</code> parameter that determines whether pickled objects can be loaded. Pickled objects are like packages created by Python's pickle tool for easy storage or sharing. The default setting is <code>False</code> for security reasons. You can set it to <code>True</code> if you trust the source and need to load arrays with Python objects like Timestamps.
</div><p>Let us confirm the successful loading of the array with mixed data types. We can plot the time against PM2.5, which are the first and second columns, respectively.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">data</span><span class="p">[:,</span><span class="mi">0</span><span class="p">],</span><span class="n">data</span><span class="p">[:,</span><span class="mi">1</span><span class="p">]);</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="write-numpy-arrays-to-npz-file">
<h3>9.3 Write NumPy arrays to npz file<a class="headerlink" href="#write-numpy-arrays-to-npz-file" title="Link to this heading">#</a></h3>
<p>You can save multiple arrays in one <code class="docutils literal notranslate"><span class="pre">.npz</span></code> file.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Display data before saving</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;data:&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">.</span><span class="n">dtype</span><span class="p">,</span> <span class="n">data</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;dates:&quot;</span><span class="p">,</span> <span class="n">dates</span><span class="o">.</span><span class="n">dtype</span><span class="p">,</span> <span class="n">dates</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">dates</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;values:&quot;</span><span class="p">,</span> <span class="n">values</span><span class="o">.</span><span class="n">dtype</span><span class="p">,</span> <span class="n">values</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

<span class="c1"># Save the data arrays to a file </span>
<span class="n">np</span><span class="o">.</span><span class="n">savez</span><span class="p">(</span><span class="s1">&#39;data/data.npz&#39;</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">dates</span><span class="p">,</span> <span class="n">values</span><span class="p">,</span> <span class="n">allow_pickle</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="c1">#Mixed data types (datetime and float)</span>
</pre></div>
</div>
</div>
</div>
<p>We can load the data from the <code class="docutils literal notranslate"><span class="pre">.npz</span></code> file and access arrays with array keys  <code class="docutils literal notranslate"><span class="pre">arr_0</span></code>, <code class="docutils literal notranslate"><span class="pre">arr_1</span></code>, and so on.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Load the data from the file</span>
<span class="n">loaded_data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;data/data.npz&#39;</span><span class="p">,</span> <span class="n">allow_pickle</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Access the arrays saved in the file</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">loaded_data</span><span class="p">[</span><span class="s1">&#39;arr_0&#39;</span><span class="p">]</span>
<span class="n">dates</span> <span class="o">=</span> <span class="n">loaded_data</span><span class="p">[</span><span class="s1">&#39;arr_1&#39;</span><span class="p">]</span>
<span class="n">values</span> <span class="o">=</span> <span class="n">loaded_data</span><span class="p">[</span><span class="s1">&#39;arr_2&#39;</span><span class="p">]</span>

<span class="c1"># Display data after loading</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;data:&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">.</span><span class="n">dtype</span><span class="p">,</span> <span class="n">data</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;dates:&quot;</span><span class="p">,</span> <span class="n">dates</span><span class="o">.</span><span class="n">dtype</span><span class="p">,</span> <span class="n">dates</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">dates</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;values:&quot;</span><span class="p">,</span> <span class="n">values</span><span class="o">.</span><span class="n">dtype</span><span class="p">,</span> <span class="n">values</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="summary">
<h2>10. Summary<a class="headerlink" href="#summary" title="Link to this heading">#</a></h2>
<p>In this notebook we introduced NumPy with some useful technique such as:</p>
<ul class="simple">
<li><p>generating NumPy array with numeric and non-numeric values</p></li>
<li><p>reading a csv file with mixed data types as NumPy array</p></li>
<li><p>preforming calcuations with formula and functions</p></li>
<li><p>specifying math (e.g., mean or sum) along <code class="docutils literal notranslate"><span class="pre">axis</span></code></p></li>
<li><p>subset data according to conditions</p></li>
<li><p>Handling missing values NaN</p></li>
<li><p>save and load a NumPy array with mixed data types</p></li>
</ul>
<p>Next, let us explore an exercise and application.</p>
</section>
<hr class="docutils" />
<section id="resources-and-references">
<h2>Resources and references<a class="headerlink" href="#resources-and-references" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://numpy.org/devdocs/user/quickstart.html#less-basic">NumPy Users Guide</a> expands further on some of these topics, as well as suggests various <a class="reference external" href="https://numpy.org/learn/">Tutorials</a>, lectures, and more.</p></li>
<li><p><a class="reference external" href="https://scipy-lectures.org">SciPy Lecture Notes</a></p></li>
<li><p><a class="reference external" href="https://images.datacamp.com/image/upload/v1676302459/Marketing/Blog/Numpy_Cheat_Sheet.pdf">Basic 1-page cheat sheet by Data Camp</a></p></li>
<li><p><a class="reference external" href="https://www.kaggle.com/discussions/getting-started/255139">Top 10 NumPy Cheat sheets</a></p></li>
</ul>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./Chapters\7. NumPy for Scientific Computing  7. NumPy for Scientific Computing"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="../6.%20Data%20Science%20Workflow/Exercise6.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><h1 style="color:green; text-align:center;"> Exercise 6 - AQI Data Preparation</h1></p>
      </div>
    </a>
    <a class="right-next"
       href="exercise7.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Exercise 7 NumPy: Air quality data analysis</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#overview">Overview</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#installing-and-importing-numpy">1. Installing and importing NumPy</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#installation">1.1 Installation</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#imports">1.2 Imports</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#basic-concepts-and-terminologies">2. Basic concepts and terminologies</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#numpy-array">2.1 NumPy array</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#why-array-computing">2.2 Why array computing?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#numpy-matlab-r-and-julia">2.3 NumPy, MATLAB, R, and Julia</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#numpy-can-be-more-verbose">2.31 NumPy can be more verbose</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#indexing-and-memory-order">2.3.2 Indexing and memory order</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#variable-assignment">2.3.3 Variable assignment</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#which-tool-to-use">2.3.4 Which tool to use?</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#generating-a-numpy-area">3. Generating a NumPy area</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#using-np-array-function">3.1 Using <code class="docutils literal notranslate"><span class="pre">np.array()</span></code> function</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#using-np-arange-to-create-an-array-with-a-range-of-values-optional">3.2 Using <code class="docutils literal notranslate"><span class="pre">np.arange()</span></code> to create an array with a range of values (<em>optional</em>)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#using-np-linspace-to-create-an-array-with-evenly-spaced-values-optional">3.3 Using <code class="docutils literal notranslate"><span class="pre">np.linspace()</span></code> to create an array with evenly spaced values (<em>optional</em>)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#using-np-ones-or-np-zeros-to-create-ones-or-zeros-array-optional">3.4 Using <code class="docutils literal notranslate"><span class="pre">np.ones()</span></code> or <code class="docutils literal notranslate"><span class="pre">np.zeros()</span></code> to create ones or zeros array (<em>optional</em>)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#using-np-full-with-any-specified-value-and-type">3.5 Using <code class="docutils literal notranslate"><span class="pre">np.full()</span></code> with any specified value and type</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#read-csv-file-with-mixed-data-types-as-numpy-array">4. Read csv file with mixed data types as NumPy array</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#using-genformtxt-optional">4.1 Using <code class="docutils literal notranslate"><span class="pre">genformtxt</span></code> (<em>Optional</em>)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#using-pd-read-csv">4.2 Using <code class="docutils literal notranslate"><span class="pre">pd.read_csv</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#perform-calculations-with-numpy">5. Perform calculations with NumPy</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#formula">5.1 Formula</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#functions">5.2 Functions</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#numpy-methods">5.3 NumPy methods</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#perform-operation-along-a-specific-dimesion">5.4 Perform operation along a specific dimesion</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#apply-a-function-to-a-numpy-array-optional">5.5 Apply a function to a NumPy Array (<em>optional</em>)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#example-advanced">5.6 Example (<em>advanced</em>)</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#indexing-and-subsetting-arrays">6. Indexing and subsetting arrays</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#indexing">6.1 Indexing</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#slicing">6.2 Slicing</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#indexing-arrays-with-boolean-values">6.3 Indexing arrays with boolean values</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#array-comparisons">6.3.1 Array comparisons</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#replacing-values-with-indexing">6.3.2 Replacing values with indexing</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#cleaning-data-replacing-nan-with-np-nan-to-num">6.3.3 Cleaning data: Replacing NaN with <code class="docutils literal notranslate"><span class="pre">np.nan_to_num</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#cleaning-data-remove-rows-with-nan">6.3.4 Cleaning data: Remove rows with NaN</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#cleaning-data-remove-rows-with-nan-for-mixed-data-array">6.3.5 Cleaning data: Remove rows with NaN for mixed data array</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#indexing-using-arrays-of-indices-optional">6.3.6 Indexing using arrays of indices (<em>optional</em>)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#loop-through-an-numpy-array">7. Loop through an NumPy array</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#loop-through-elements">7.1 Loop through elements</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#loop-with-index">7.2 Loop with index</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#loop-with-index-using-np-ndindex">7.3 Loop with index using <code class="docutils literal notranslate"><span class="pre">np.ndindex</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#broadcasting-advanced">8. Broadcasting (<em>advanced</em>)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#write-numpy-arrays-to-a-file">9. Write NumPy arrays to a file</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#write-numpy-arrays-to-csv-files">9.1 Write NumPy arrays to csv files</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#write-numpy-arrays-to-npy-files">9.2 Write NumPy arrays to npy files</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#write-numpy-arrays-to-npz-file">9.3 Write NumPy arrays to npz file</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#summary">10. Summary</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#resources-and-references">Resources and references</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Ahmed Elshall & Thalia Valle
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>